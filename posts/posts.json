[
  {
    "path": "posts/2022-05-05-late-spring-update-of-the-r2dii-suite/",
    "title": "Late spring update of the r2dii suite!",
    "description": "New terminologies introduced, new plotting methodology, and the `target_sda()` function gets some TLC.",
    "author": [
      {
        "name": "Jackson Hoffart",
        "url": "https://github.com/jdhoffa"
      }
    ],
    "date": "2022-05-05",
    "categories": [
      "r2dii",
      "methodology"
    ],
    "contents": "\n\nContents\nALD will now be\nreferred to as ABCD\nNew,\nmore consistent way of plotting volume trajectories\nResulting\nchanges to r2dii.analysis and r2dii.plot\n\ntarget_sda() gets\nsome love\n\nThe PACTA team is proud to announce that the latest versions of the\nr2dii suite are now available on CRAN! This update\nintroduced a minor version bump to each of the r2dii packages:\nr2dii.data 0.3.0\nr2dii.match 0.1.0\nr2dii.analysis 0.2.0\nr2dii.plot 0.3.0\nYou can install these packages from CRAN with:\ninstall.packages(\"r2dii.data\")\n# etc. for each of the packages\nand load them into an R session using:\n\n\nlibrary(dplyr)\nlibrary(r2dii.data)\nlibrary(r2dii.match)\nlibrary(r2dii.analysis)\nlibrary(r2dii.plot)\n\n\n\nALD will now be referred to\nas ABCD\nWe have updated our internal terminology from Asset-Level Data (ALD),\nto the more accurate Asset-Based Company Data (ABCD). In the code, this\nresults in the update of ald -> abcd in many crucial\narguments and datasets.\nIn r2dii.data this results in the new dataset\nabcd_demo, which is an analog of ald_demo:\n\n\nabcd_demo\n\n\n# A tibble: 17,668 × 14\n   company_id name_company     lei   sector technology production_unit\n   <chr>      <chr>            <chr> <chr>  <chr>      <chr>          \n 1 1          aba hydropower … 8360… power  hydrocap   MW             \n 2 1          aba hydropower … 8360… power  hydrocap   MW             \n 3 1          aba hydropower … 8360… power  hydrocap   MW             \n 4 1          aba hydropower … 8360… power  hydrocap   MW             \n 5 1          aba hydropower … 8360… power  hydrocap   MW             \n 6 1          aba hydropower … 8360… power  hydrocap   MW             \n 7 1          aba hydropower … 8360… power  hydrocap   MW             \n 8 1          aba hydropower … 8360… power  hydrocap   MW             \n 9 1          aba hydropower … 8360… power  hydrocap   MW             \n10 1          aba hydropower … 8360… power  hydrocap   MW             \n# … with 17,658 more rows, and 8 more variables: year <int>,\n#   production <dbl>, emission_factor <dbl>,\n#   country_of_domicile <chr>, plant_location <chr>,\n#   is_ultimate_owner <lgl>, abcd_timestamp <chr>,\n#   emission_factor_unit <chr>\n\nNotice that ald_demo can still be used, but will yield a\nwarning. This dataset will be removed in the next release:\n\n\nald_demo\n\n\nWarning: The dataset `ald_demo`is superseded as of r2dii.data 0.3.0 (expected July 2022).\nPlease use `abcd_demo` instead.\nRead this blog post to learn more:\nhttps://2degreesinvesting.github.io/posts/2022-03-02-ald-becomes-abcd/\n# A tibble: 17,668 × 14\n   company_id name_company     lei   sector technology production_unit\n   <chr>      <chr>            <chr> <chr>  <chr>      <chr>          \n 1 1          aba hydropower … 8360… power  hydrocap   MW             \n 2 1          aba hydropower … 8360… power  hydrocap   MW             \n 3 1          aba hydropower … 8360… power  hydrocap   MW             \n 4 1          aba hydropower … 8360… power  hydrocap   MW             \n 5 1          aba hydropower … 8360… power  hydrocap   MW             \n 6 1          aba hydropower … 8360… power  hydrocap   MW             \n 7 1          aba hydropower … 8360… power  hydrocap   MW             \n 8 1          aba hydropower … 8360… power  hydrocap   MW             \n 9 1          aba hydropower … 8360… power  hydrocap   MW             \n10 1          aba hydropower … 8360… power  hydrocap   MW             \n# … with 17,658 more rows, and 8 more variables: year <int>,\n#   production <dbl>, emission_factor <dbl>,\n#   country_of_domicile <chr>, plant_location <chr>,\n#   is_ultimate_owner <lgl>, abcd_timestamp <chr>,\n#   emission_factor_unit <chr>\n\nIn r2dii.match and r2dii.analysis, several\nfunctions have had the ald argument superseded by\nabcd. For example:\n\n\n# this works\nmatch_name(loanbook_demo, abcd_demo)\n\n\n# A tibble: 410 × 28\n   id_loan id_direct_loantaker name_direct_loantaker  id_intermediate…\n   <chr>   <chr>               <chr>                  <chr>           \n 1 L1      C294                Yuamen Xinneng Therma… <NA>            \n 2 L3      C292                Yuama Ethanol Llc      IP5             \n 3 L3      C292                Yuama Ethanol Llc      IP5             \n 4 L5      C305                Yukon Energy Corp 1736 <NA>            \n 5 L5      C305                Yukon Energy Corp 1736 <NA>            \n 6 L6      C304                Yukon Development Corp <NA>            \n 7 L6      C304                Yukon Development Corp <NA>            \n 8 L8      C303                Yueyang City Construc… <NA>            \n 9 L9      C301                Yuedxiu Corp One       IP10            \n10 L10     C302                Yuexi County AAAA Xin… <NA>            \n# … with 400 more rows, and 24 more variables:\n#   name_intermediate_parent_1 <chr>, id_ultimate_parent <chr>,\n#   name_ultimate_parent <chr>, loan_size_outstanding <dbl>,\n#   loan_size_outstanding_currency <chr>,\n#   loan_size_credit_limit <dbl>,\n#   loan_size_credit_limit_currency <chr>,\n#   sector_classification_system <chr>, …\n\n# this also works\nmatch_name(\n  loanbook = loanbook_demo,\n  abcd = abcd_demo\n)\n\n\n# A tibble: 410 × 28\n   id_loan id_direct_loantaker name_direct_loantaker  id_intermediate…\n   <chr>   <chr>               <chr>                  <chr>           \n 1 L1      C294                Yuamen Xinneng Therma… <NA>            \n 2 L3      C292                Yuama Ethanol Llc      IP5             \n 3 L3      C292                Yuama Ethanol Llc      IP5             \n 4 L5      C305                Yukon Energy Corp 1736 <NA>            \n 5 L5      C305                Yukon Energy Corp 1736 <NA>            \n 6 L6      C304                Yukon Development Corp <NA>            \n 7 L6      C304                Yukon Development Corp <NA>            \n 8 L8      C303                Yueyang City Construc… <NA>            \n 9 L9      C301                Yuedxiu Corp One       IP10            \n10 L10     C302                Yuexi County AAAA Xin… <NA>            \n# … with 400 more rows, and 24 more variables:\n#   name_intermediate_parent_1 <chr>, id_ultimate_parent <chr>,\n#   name_ultimate_parent <chr>, loan_size_outstanding <dbl>,\n#   loan_size_outstanding_currency <chr>,\n#   loan_size_credit_limit <dbl>,\n#   loan_size_credit_limit_currency <chr>,\n#   sector_classification_system <chr>, …\n\n# this also works, but will throw a warning\nmatch_name(\n  loanbook = loanbook_demo,\n  ald = abcd_demo # this argument is being deprecated\n)\n\n\nWarning: The `ald` argument of `match_name()` is deprecated as of r2dii.match 0.1.0 (expected July 2022).\nPlease use the `abcd` argument instead.\nThis warning is displayed once every 8 hours.\nCall `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.\n# A tibble: 410 × 28\n   id_loan id_direct_loantaker name_direct_loantaker  id_intermediate…\n   <chr>   <chr>               <chr>                  <chr>           \n 1 L1      C294                Yuamen Xinneng Therma… <NA>            \n 2 L3      C292                Yuama Ethanol Llc      IP5             \n 3 L3      C292                Yuama Ethanol Llc      IP5             \n 4 L5      C305                Yukon Energy Corp 1736 <NA>            \n 5 L5      C305                Yukon Energy Corp 1736 <NA>            \n 6 L6      C304                Yukon Development Corp <NA>            \n 7 L6      C304                Yukon Development Corp <NA>            \n 8 L8      C303                Yueyang City Construc… <NA>            \n 9 L9      C301                Yuedxiu Corp One       IP10            \n10 L10     C302                Yuexi County AAAA Xin… <NA>            \n# … with 400 more rows, and 24 more variables:\n#   name_intermediate_parent_1 <chr>, id_ultimate_parent <chr>,\n#   name_ultimate_parent <chr>, loan_size_outstanding <dbl>,\n#   loan_size_outstanding_currency <chr>,\n#   loan_size_credit_limit <dbl>,\n#   loan_size_credit_limit_currency <chr>,\n#   sector_classification_system <chr>, …\n\nSimilar changes have been made to target_market_share\nand target_sda. Please take the time now to make the\nnecessary updates in your code of ald to abcd,\nas the former will be fully deprecated by the next release.\nSee this blog post for more information: https://2degreesinvesting.github.io/posts/2022-03-02-ald-becomes-abcd/\nNew,\nmore consistent way of plotting volume trajectories\nIn previous iterations of r2dii, the value plotted in\nthe volume trajectory charts was simply normalized production. We found\nseveral issues with this approach, perhaps the most confusing of which\nwas an issue where corporate economy benchmarks would appear to be\naligned with different scenarios, depending on which input loanbook was\nused.\nThis problem has been solved, by plotting the following\nportfolio-invariant quantities, either the percent change as a\npercentage of the initial technology (for high-carbon technologies):\n\\[\\frac{p_i^{target}(t) -\np_i(t_0)}{p_i(t_0)} =  \\frac{s_i(t)-s_i(t_0)}{s_i(t_0)}\\]\nor as a percentage of the initial sector (for low-carbon\ntechnologies):\n\\[\\frac{p_i^{target}(t) -\np_i(t_0)}{P(t_0)} =  \\frac{s_i(t)-s_i(t_0)}{S(t_0)}\\]\nThe explanation of this decision is very detailed, and can be found\nhere: https://2degreesinvesting.github.io/posts/2022-05-02-market-share-target-setting-methodology-calculation-and-plotting/\nResulting\nchanges to r2dii.analysis and r2dii.plot\nIn r2dii.analysis, the result is two new columns in the\ntarget_market_share() output, scope,\npercentage_of_initial_production_by_scope:\n\n\nmarket_share_targets <- loanbook_demo %>% \n  match_name(abcd_demo) %>% \n  prioritize() %>% \n  target_market_share(abcd_demo, scenario_demo_2020, region_isos_demo)\n\nselect(market_share_targets, technology, scope, percentage_of_initial_production_by_scope)\n\n\n# A tibble: 1,790 × 3\n   technology scope  percentage_of_initial_production_by_scope\n   <chr>      <chr>                                      <dbl>\n 1 electric   sector                                   0      \n 2 electric   sector                                   0      \n 3 electric   sector                                   0      \n 4 electric   sector                                   0      \n 5 electric   sector                                   0.00352\n 6 electric   sector                                   0.00108\n 7 electric   sector                                   0.00653\n 8 electric   sector                                   0.00137\n 9 electric   sector                                   0.00705\n10 electric   sector                                   0.00213\n# … with 1,780 more rows\n\nBy default, r2dii.plot::qplot_trajectory will now plot\nthese values:\n\n\ndata <- market_share_targets %>% filter(\n  sector == \"power\" &\n    technology == \"coalcap\" &\n    region == \"global\" &\n    scenario_source == \"demo_2020\"\n)\n\nqplot_trajectory(data)\n\n\n\n\n\n\ndata <- market_share_targets %>% filter(\n  sector == \"power\" &\n    technology == \"renewablescap\" &\n    region == \"global\" &\n    scenario_source == \"demo_2020\"\n)\n\nqplot_trajectory(data)\n\n\n\n\ntarget_sda() gets some\nlove\nFinally, some tweaks and enhancements were made to the\ntarget_sda() function of r2dii.analysis, in\nparticular: * target_sda() now only outputs data for\nsector values that are in all three input datasets\n(data, ald and\nco2_intensity_scenario) (#390).\ntarget_sda() now outputs unweighted\nemission_factor if by_company is\nTRUE (#376).\ntarget_sda() gains region_isos argument\n(#323).\nAs always, this progress is thanks to the valued contributions from\nthe open source community.\n\n\n\n",
    "preview": "posts/2022-05-05-late-spring-update-of-the-r2dii-suite/distill-preview.png",
    "last_modified": "2022-05-09T11:16:59+02:00",
    "input_file": "late-spring-update-of-the-r2dii-suite.knit.md",
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2022-05-02-market-share-target-setting-methodology-calculation-and-plotting/",
    "title": "Market Share Target Setting Methodology - Calculation and Plotting",
    "description": "A comprehensive explanation of the PACTA market share target setting \nmethodology, and the associated difficulties when it comes to interpretation \nand plotting.",
    "author": [
      {
        "name": "Jackson Hoffart",
        "url": "https://github.com/jdhoffa"
      }
    ],
    "date": "2022-05-02",
    "categories": [
      "methodology"
    ],
    "contents": "\n\nContents\nTarget-Setting with PACTA\nHigh-Carbon\nTechnologies - Technology Market Share\nLow-Carbon\nTechnologies - Sector Market Share\n\nRationale for Having\nTwo Approaches\nTechnology-Market\nShare Doesn’t Work for Low-Carbon\nSector-Market\nShare Doesn’t Work for High-Carbon\n\nPlotting\nResults: Volume Trajectory Charts\nVolume\nTrajectory with Technology-Market Share\nVolume\nTrajectory with Sector-Market Share\nProblem\n1: Benchmarks for Increasing Technologies\nProblem\n2: Increasing Technologies with Zero Initial Production\n\nSolution: Plot\nPortfolio-Invariant Units\nProblem\n1 Solved: Benchmarks for Increasing Technologies\nProblem\n2 Solved: Increasing Technologies with Zero Initial Production\n\n\n\n\n\nA core component of the PACTA methodology is the ability to allocate\nmacro-economic efforts to micro-economic actors. More specifically,\nPACTA takes climate change mitigation scenarios, which provide\nproduction pathways for various sectors and technologies, and allocates\nthese efforts to individual companies, and/or financial portfolios.\nIn this note, we will:\nDiscuss PACTA’s current target-setting methodology (Technology- and\nSector-Market Share)\nExplain the rationale and short-comings of the current volume\ntrajectory plots\nPropose a new plotting method that aims to address these\nshort-comings.\nThis note assumes a basic understanding of the PACTA methodology.\nTarget-Setting with PACTA\nWe will use fake data throughout this note to illustrate\nexamples.\nFirst, let’s define a couple of fake climate scenarios. We will need\nto have an example of an increasing scenario, such as renewable energy\nproduction (hereby referred to as “renewables” or “renewablescap”), and\na decreasing scenario, such as gas-fired energy production (hereby\nreferred to as “gas” or “gascap”).\nThese scenarios will start at arbitrary values, and have varying\ndegrees of ambition.\n\n\n\nA crucial function of the PACTA methodology is to allocate a portion\nof the scenario production to different companies, and financial\nportfolios.\nTo do so, PACTA applies two different methods, depending on if the\ntechnology is projected to increase (as is the case with low-carbon\ntechnologies, such as renewables) or if it is projected to decrease (as\nis the case with high-carbon technologies, such as gas).\nHigh-Carbon\nTechnologies - Technology Market Share\nIt is straight-forward to calculate the percent-change of any\ntechnology’s production at time \\(t\\),\nas a percentage of the initial value at \\(t_0\\):\n\\[\\left(\\frac{s_i(t)-s_i(t_0)}{s_i(t_0)}\\right)*100\\]\nwhere \\(s(t)\\) is the scenario’s\nproduction, for some technology, at time \\(t\\).\nNote that this reduces to:\n\\[\\left(\\frac{s_i(t)}{s_i(t_0)} -\n1\\right)*100\\]\nFor reason’s that will become clear later, we will refer to this as\nthe technology-market share.\nWe can transform the scenarios defined above, and plot this\nvalue:\n\n\n\nFrom this value, we can set a target for a portfolio as:\n\\[p_i^{target}(t) = p_i(t_0) +\np_i(t_0)*\\left(\\frac{s_i(t)-s_i(t_0)}{s_i(t_0)}\\right)\\]\nwhere \\(p_i(t)\\) is the portfolio’s\nactual production in technology \\(i\\)\nand \\(p_i^{target}\\) is the portfolio’s\ncalculated target production.\nLow-Carbon\nTechnologies - Sector Market Share\nRather than calculating the percent change as a percentage of the\ninitial technology value, we might also calculate\n\\[\\left(\\frac{s(t) -\ns(t_0)}{S(t_0)}\\right)*100\\] where \\(S(t)\\) now refers to the scenario’s\nproduction in the entire sector, at time \\(t\\). We will refer to this as the\nsector-market share.\nPlotting this value yields:\n\n\n\nSimilarly, we can use this value to calculate a target as:\n\\[p_i^{target}(t) = p_i(t_0) +\nP(t_0)*\\left(\\frac{s(t) - s(t_0)}{S(t_0)}\\right)\\] where \\(P(t_0)\\) is the portfolio’s production in\nthe entire sector.\nRationale for Having Two\nApproaches\nThis begs the question, why two approaches? We will illustrate with\nan example.\nTechnology-Market\nShare Doesn’t Work for Low-Carbon\nFirst, imagine a portfolio that is exposed only to a high-carbon\ntechnology, such as Gas-fired Power. Lets say that \\(p_{gas}(t_0) = 500MW\\) and \\(p_{renewables}(t_0) = 0MW\\).\nImagine we used only the technology-market share to calculate\ntargets. The function looks like:\n\\[\n\\begin{aligned}\np_i^{target}(t) &= p_i(t_0) +\np_i(t_0)*\\left(\\frac{s_i(t)-s_i(t_0)}{s_i(t_0)}\\right) \\\\\n&= p_i(t_0) + p_i(t_0)*\\left(\\frac{s_i(t)}{s_i(t_0)} - 1\\right) \\\\\n&= p_i(t_0) * \\left(\\frac{s_i(t)}{s_i(t_0)}\\right) \\\\\n\\end{aligned}\n\\]\nfor our gas example, this would become: \\[p_{gas}^{target}(t) = 500MW *\n\\left(\\frac{s_i(t)}{s_i(t_0)}\\right)\\] just the initial gas\nproduction, multiplied by the scenario ratio. So long as there are\nnon-zero scenario values, there will be a target for gas production.\nHowever, for renewable power, since \\(p_i(t_0) = 0MW\\):\n\\[\n\\begin{aligned}\np_{renewables}^{target}(t) &= 0MW *\n\\left(\\frac{s_i(t)}{s_i(t_0)}\\right) \\\\\n&= 0MW\n\\end{aligned}\n\\] Since we are multiplying by 0, we will never have a target for\nrenewables.\nThis can be interpreted as follows. The portfolio is only exposed to\ngas, which is a technology expected to decline in production to curb\nclimate change. Since the portfolio currently has NO market\nshare in renewables, it won’t be expected to build-out renewables\n(following the technology-market share approach). Thus, a target\ncalculated in this method would suggest that a portfolio simply declines\nit’s production entirely, without transitioning to low-carbon\ntechnologies. This doesn’t make sense, since eventually the companies\nwould decline production so much that they fail.\nNow, if we were to use instead the sector market share for\nrenewables, we see:\n\\[\n\\begin{aligned}\np_{renewables}^{target}(t) &= p_{renewables}(t_0) +\nP(t_0)*\\left(\\frac{s(t) - s(t_0)}{S(t_0)}\\right) \\\\\n&= 0MW + 500MW * \\left(\\frac{s(t) - s(t_0)}{S(t_0)}\\right)\n\\end{aligned}\n\\]\nThough the portfolio doesn’t have any exposure to the renewables\ntechnology, it does have exposure to the power sector.\nThus, if we allocate the desired renewable growth scenario as a\npercentage of the overall sector, we will end up with a\nnon-zero target.\nSector-Market\nShare Doesn’t Work for High-Carbon\nThe natural question is then, why can’t we just apply the\nsector-market share equation to high-carbon technologies?\nLet’s explore with another example. For now, we will just use the\nequations. In particular, let’s explore conditions such that the target\ncalculated is negative (note: this should not happen, as it has no\nphysical interpretation). If we start with the Sector-Market Share\nequation:\n\\[p_i^{target}(t) = p_i(t_0) +\nP(t_0)*\\left(\\frac{s(t) - s(t_0)}{S(t_0)}\\right)\\] For our\nnegative target boundary-case, this becomes:\n\\[0 > p_i(t_0) +\nP(t_0)*\\left(\\frac{s_i(t) - s_i(t_0)}{S(t_0)}\\right)\\]\nPutting all portfolio-related terms on the LHS, and scenario-related\nterms on the RHS, and handling signs a bit, we get:\n\\[\\frac{p_i(t_0)}{P(t_0)} <\n\\frac{s_i(t_0)-s_i(t)}{S(t_0)}\\]\nIt is quite easy to satisfy this condition. Consider the fake\nscenario we defined above:\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#xdqrudcdty .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#xdqrudcdty .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xdqrudcdty .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#xdqrudcdty .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#xdqrudcdty .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xdqrudcdty .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xdqrudcdty .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#xdqrudcdty .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#xdqrudcdty .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#xdqrudcdty .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#xdqrudcdty .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#xdqrudcdty .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xdqrudcdty .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xdqrudcdty .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#xdqrudcdty .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#xdqrudcdty .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#xdqrudcdty .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xdqrudcdty .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#xdqrudcdty .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#xdqrudcdty .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xdqrudcdty .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#xdqrudcdty .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#xdqrudcdty .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xdqrudcdty .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xdqrudcdty .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#xdqrudcdty .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#xdqrudcdty .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xdqrudcdty .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xdqrudcdty .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xdqrudcdty .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xdqrudcdty .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xdqrudcdty .gt_left {\n  text-align: left;\n}\n\n#xdqrudcdty .gt_center {\n  text-align: center;\n}\n\n#xdqrudcdty .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#xdqrudcdty .gt_font_normal {\n  font-weight: normal;\n}\n\n#xdqrudcdty .gt_font_bold {\n  font-weight: bold;\n}\n\n#xdqrudcdty .gt_font_italic {\n  font-style: italic;\n}\n\n#xdqrudcdty .gt_super {\n  font-size: 65%;\n}\n\n#xdqrudcdty .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#xdqrudcdty .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#xdqrudcdty .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#xdqrudcdty .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#xdqrudcdty .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#xdqrudcdty .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nScenario Production Values\n    scenario\n      technology\n      Year\n      Production\n    SDS\ngascap\n2020\n1400.0000SDS\nrenewablescap\n2020\n700.0000SDS\ngascap\n2025\n1219.6053SDS\nrenewablescap\n2025\n980.3345\n\ni.e. $ s_{gas}(t_0) = 1400MW$, \\(s_{gas}(2025) \\approx 1220MW\\) and \\(S(t_0) \\approx 2100MW\\). Now suppose we\nhave a portfolio that has a small exposure to gas production, let’s say\n\\(10MW\\), and a large exposure to\nrenewable production, let’s say \\(1000MW\\), i.e.. \\(p_{gas}(t_0) = 10MW\\) and \\(P(t_0) = 1100MW\\), then this portfolio’s\ngas target becomes:\n\\[\n\\begin{aligned}\np_{gas}^{target}(t) &= p_{gas}(t_0) + P(t_0)*\\left(\\frac{s_{gas}(t)\n- s_{gas}(t_0)}{S(t_0)}\\right) \\\\\n&= 10MW + 1100MW*\\left(\\frac{1220MW - 1400MW}{2100MW}\\right) \\\\\n&\\approx -84.3 MW\n\\end{aligned}\n\\]\nSpecific values were chosen to illustrate the point, but as shown,\nthis condition can be easily met with arbitrary input values. This is a\nproblem for multiple reasons. First, of all, negative production targets\nhave no physical interpretation. Second, since there is no physical way\nto produce “negative” energy, we are effectively allocating impossible\nscenario ambitions. Therefor, if we were to continue forward setting\ntargets like this, we would not be adequately accounting for the\nnecessary production ramp-down that the scenario projects.\nEven if we were to just set negative targets to 0, there would be\nscenario ambition that does not get considered, and our targets would\nnot adequately limit CO2 emissions to the proposed carbon budget.\nPlotting Results:\nVolume Trajectory Charts\nNow that we have explained the target-setting methodology in detail,\nwe can look into what the output of a PACTA run might look like for some\narbitrary loanbook. For the sake of simplicity, we will assume a\nloanbook with only one exposure to some company that has both Gas and\nRenewables assets.\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#dmemyahjnq .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#dmemyahjnq .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dmemyahjnq .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#dmemyahjnq .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#dmemyahjnq .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dmemyahjnq .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dmemyahjnq .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#dmemyahjnq .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#dmemyahjnq .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#dmemyahjnq .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#dmemyahjnq .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#dmemyahjnq .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#dmemyahjnq .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#dmemyahjnq .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#dmemyahjnq .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#dmemyahjnq .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#dmemyahjnq .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dmemyahjnq .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#dmemyahjnq .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#dmemyahjnq .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dmemyahjnq .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#dmemyahjnq .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#dmemyahjnq .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dmemyahjnq .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dmemyahjnq .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#dmemyahjnq .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#dmemyahjnq .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dmemyahjnq .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dmemyahjnq .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dmemyahjnq .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dmemyahjnq .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dmemyahjnq .gt_left {\n  text-align: left;\n}\n\n#dmemyahjnq .gt_center {\n  text-align: center;\n}\n\n#dmemyahjnq .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#dmemyahjnq .gt_font_normal {\n  font-weight: normal;\n}\n\n#dmemyahjnq .gt_font_bold {\n  font-weight: bold;\n}\n\n#dmemyahjnq .gt_font_italic {\n  font-style: italic;\n}\n\n#dmemyahjnq .gt_super {\n  font-size: 65%;\n}\n\n#dmemyahjnq .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#dmemyahjnq .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#dmemyahjnq .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#dmemyahjnq .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#dmemyahjnq .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#dmemyahjnq .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nSample PACTA Output\n    Sector\n      Technology\n      Year\n      Region\n      Scenario Source\n      Metric\n      Production\n      Technology Share\n      scope\n      percentage_of_initial_production_by_scope\n    power\ngascap\n2020\nglobal\ndemo_2020\nprojected\n23178.46\n0.5164751\ntechnology\n0.00000000power\ngascap\n2020\nglobal\ndemo_2020\ntarget_CPS\n23178.46\n0.5164751\ntechnology\n0.00000000power\ngascap\n2020\nglobal\ndemo_2020\ntarget_SDS\n23178.46\n0.5164751\ntechnology\n0.00000000power\ngascap\n2020\nglobal\ndemo_2020\ntarget_SPS\n23178.46\n0.5164751\ntechnology\n0.00000000power\ngascap\n2025\nglobal\ndemo_2020\nprojected\n24752.64\n0.5996650\ntechnology\n0.06791575power\ngascap\n2025\nglobal\ndemo_2020\ntarget_CPS\n21699.01\n0.4568243\ntechnology\n-0.06382884power\ngascap\n2025\nglobal\ndemo_2020\ntarget_SDS\n20191.84\n0.4216959\ntechnology\n-0.12885334power\ngascap\n2025\nglobal\ndemo_2020\ntarget_SPS\n21156.77\n0.4445496\ntechnology\n-0.08722284power\nrenewablescap\n2020\nglobal\ndemo_2020\nprojected\n21699.72\n0.4835249\nsector\n0.00000000power\nrenewablescap\n2020\nglobal\ndemo_2020\ntarget_CPS\n21699.72\n0.4835249\nsector\n0.00000000power\nrenewablescap\n2020\nglobal\ndemo_2020\ntarget_SDS\n21699.72\n0.4835249\nsector\n0.00000000power\nrenewablescap\n2020\nglobal\ndemo_2020\ntarget_SPS\n21699.72\n0.4835249\nsector\n0.00000000power\nrenewablescap\n2025\nglobal\ndemo_2020\nprojected\n16524.81\n0.4003350\nsector\n-0.11531011power\nrenewablescap\n2025\nglobal\ndemo_2020\ntarget_CPS\n25800.68\n0.5431757\nsector\n0.09137978power\nrenewablescap\n2025\nglobal\ndemo_2020\ntarget_SDS\n27690.62\n0.5783041\nsector\n0.13349261power\nrenewablescap\n2025\nglobal\ndemo_2020\ntarget_SPS\n26434.70\n0.5554504\nsector\n0.10550757power\ngascap\n2020\nglobal\ndemo_2020\ncorporate_economy\n1195546.70\n0.1130896\ntechnology\n0.00000000power\ngascap\n2025\nglobal\ndemo_2020\ncorporate_economy\n1218539.70\n0.1141743\ntechnology\n0.01923221power\nrenewablescap\n2020\nglobal\ndemo_2020\ncorporate_economy\n1598339.46\n0.1511907\nsector\n0.00000000power\nrenewablescap\n2025\nglobal\ndemo_2020\ncorporate_economy\n1483450.28\n0.1389958\nsector\n-0.01086764\n\nFirst, let’s just plot the absolute production values:\n\n\n\nVolume\nTrajectory with Technology-Market Share\nNow, let’s see what we actually plot in the PACTA volume trajectory\nplots, using r2dii.plot, first for a decreasing technology\n(Gas).\n\n\n\nIn the above plots, we are simply dividing each production value\n(portfolio, targets and corporate economy) by their initial value at\n2020. Consider first the SDS gas Capacity trend. The actual values\nare:\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#opquahdlsy .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#opquahdlsy .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#opquahdlsy .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#opquahdlsy .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#opquahdlsy .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#opquahdlsy .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#opquahdlsy .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#opquahdlsy .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#opquahdlsy .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#opquahdlsy .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#opquahdlsy .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#opquahdlsy .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#opquahdlsy .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#opquahdlsy .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#opquahdlsy .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#opquahdlsy .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#opquahdlsy .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#opquahdlsy .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#opquahdlsy .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#opquahdlsy .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#opquahdlsy .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#opquahdlsy .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#opquahdlsy .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#opquahdlsy .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#opquahdlsy .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#opquahdlsy .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#opquahdlsy .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#opquahdlsy .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#opquahdlsy .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#opquahdlsy .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#opquahdlsy .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#opquahdlsy .gt_left {\n  text-align: left;\n}\n\n#opquahdlsy .gt_center {\n  text-align: center;\n}\n\n#opquahdlsy .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#opquahdlsy .gt_font_normal {\n  font-weight: normal;\n}\n\n#opquahdlsy .gt_font_bold {\n  font-weight: bold;\n}\n\n#opquahdlsy .gt_font_italic {\n  font-style: italic;\n}\n\n#opquahdlsy .gt_super {\n  font-size: 65%;\n}\n\n#opquahdlsy .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#opquahdlsy .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#opquahdlsy .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#opquahdlsy .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#opquahdlsy .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#opquahdlsy .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nAbsolute Change in Gas Production (SDS Target)\n    Year\n      Production\n    2020\n23178.462025\n20191.84\n\nwhich, normalized, becomes:\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#ncyjxsbzxi .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ncyjxsbzxi .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ncyjxsbzxi .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ncyjxsbzxi .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ncyjxsbzxi .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ncyjxsbzxi .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ncyjxsbzxi .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ncyjxsbzxi .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ncyjxsbzxi .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ncyjxsbzxi .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ncyjxsbzxi .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ncyjxsbzxi .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ncyjxsbzxi .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ncyjxsbzxi .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ncyjxsbzxi .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ncyjxsbzxi .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ncyjxsbzxi .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ncyjxsbzxi .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ncyjxsbzxi .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ncyjxsbzxi .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ncyjxsbzxi .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ncyjxsbzxi .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ncyjxsbzxi .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ncyjxsbzxi .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ncyjxsbzxi .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ncyjxsbzxi .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ncyjxsbzxi .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ncyjxsbzxi .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ncyjxsbzxi .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ncyjxsbzxi .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ncyjxsbzxi .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ncyjxsbzxi .gt_left {\n  text-align: left;\n}\n\n#ncyjxsbzxi .gt_center {\n  text-align: center;\n}\n\n#ncyjxsbzxi .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ncyjxsbzxi .gt_font_normal {\n  font-weight: normal;\n}\n\n#ncyjxsbzxi .gt_font_bold {\n  font-weight: bold;\n}\n\n#ncyjxsbzxi .gt_font_italic {\n  font-style: italic;\n}\n\n#ncyjxsbzxi .gt_super {\n  font-size: 65%;\n}\n\n#ncyjxsbzxi .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#ncyjxsbzxi .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#ncyjxsbzxi .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ncyjxsbzxi .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#ncyjxsbzxi .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#ncyjxsbzxi .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nNormalized Change in Gas Production (SDS Target)\n    Year\n      Normalized Production\n    2020\n1.00000002025\n0.8711467\n\ncompare this to the tmsr values of the original scenario:\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#wbgqtcffmp .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#wbgqtcffmp .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#wbgqtcffmp .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#wbgqtcffmp .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#wbgqtcffmp .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#wbgqtcffmp .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#wbgqtcffmp .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#wbgqtcffmp .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#wbgqtcffmp .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#wbgqtcffmp .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#wbgqtcffmp .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#wbgqtcffmp .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#wbgqtcffmp .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#wbgqtcffmp .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#wbgqtcffmp .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#wbgqtcffmp .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#wbgqtcffmp .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#wbgqtcffmp .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#wbgqtcffmp .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#wbgqtcffmp .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#wbgqtcffmp .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#wbgqtcffmp .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#wbgqtcffmp .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#wbgqtcffmp .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#wbgqtcffmp .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#wbgqtcffmp .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#wbgqtcffmp .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#wbgqtcffmp .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#wbgqtcffmp .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#wbgqtcffmp .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#wbgqtcffmp .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#wbgqtcffmp .gt_left {\n  text-align: left;\n}\n\n#wbgqtcffmp .gt_center {\n  text-align: center;\n}\n\n#wbgqtcffmp .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#wbgqtcffmp .gt_font_normal {\n  font-weight: normal;\n}\n\n#wbgqtcffmp .gt_font_bold {\n  font-weight: bold;\n}\n\n#wbgqtcffmp .gt_font_italic {\n  font-style: italic;\n}\n\n#wbgqtcffmp .gt_super {\n  font-size: 65%;\n}\n\n#wbgqtcffmp .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#wbgqtcffmp .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#wbgqtcffmp .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#wbgqtcffmp .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#wbgqtcffmp .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#wbgqtcffmp .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nTMSR Gas Production (SDS)\n    Year\n      TMSR\n    2020\n1.00000002025\n0.8711467\n\nThe values are exactly the same. This is expected. For brown\ntechnologies, we apply the technology market share, which means we\ndirectly apply the percent growth that the scenario prescribes for the\ntechnology.\nVolume Trajectory\nwith Sector-Market Share\nNow, let’s see what the case is for an increasing technology:\n\n\n\nLooking at the raw target production values (for the SDS scenario),\nwe see:\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#lnbkjroqbg .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#lnbkjroqbg .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#lnbkjroqbg .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#lnbkjroqbg .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#lnbkjroqbg .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lnbkjroqbg .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#lnbkjroqbg .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#lnbkjroqbg .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#lnbkjroqbg .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#lnbkjroqbg .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#lnbkjroqbg .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#lnbkjroqbg .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#lnbkjroqbg .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#lnbkjroqbg .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#lnbkjroqbg .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#lnbkjroqbg .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#lnbkjroqbg .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lnbkjroqbg .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#lnbkjroqbg .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#lnbkjroqbg .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lnbkjroqbg .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#lnbkjroqbg .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#lnbkjroqbg .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lnbkjroqbg .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lnbkjroqbg .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#lnbkjroqbg .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#lnbkjroqbg .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lnbkjroqbg .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#lnbkjroqbg .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lnbkjroqbg .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#lnbkjroqbg .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lnbkjroqbg .gt_left {\n  text-align: left;\n}\n\n#lnbkjroqbg .gt_center {\n  text-align: center;\n}\n\n#lnbkjroqbg .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#lnbkjroqbg .gt_font_normal {\n  font-weight: normal;\n}\n\n#lnbkjroqbg .gt_font_bold {\n  font-weight: bold;\n}\n\n#lnbkjroqbg .gt_font_italic {\n  font-style: italic;\n}\n\n#lnbkjroqbg .gt_super {\n  font-size: 65%;\n}\n\n#lnbkjroqbg .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#lnbkjroqbg .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#lnbkjroqbg .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#lnbkjroqbg .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#lnbkjroqbg .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#lnbkjroqbg .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nAbsolute Change in Renewables Production (SDS Target)\n    Year\n      Production\n    2020\n21699.722025\n27690.62\n\nwhich, normalized, becomes:\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#lccefbefwb .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#lccefbefwb .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#lccefbefwb .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#lccefbefwb .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#lccefbefwb .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lccefbefwb .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#lccefbefwb .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#lccefbefwb .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#lccefbefwb .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#lccefbefwb .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#lccefbefwb .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#lccefbefwb .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#lccefbefwb .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#lccefbefwb .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#lccefbefwb .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#lccefbefwb .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#lccefbefwb .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lccefbefwb .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#lccefbefwb .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#lccefbefwb .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lccefbefwb .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#lccefbefwb .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#lccefbefwb .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lccefbefwb .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lccefbefwb .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#lccefbefwb .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#lccefbefwb .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#lccefbefwb .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#lccefbefwb .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lccefbefwb .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#lccefbefwb .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lccefbefwb .gt_left {\n  text-align: left;\n}\n\n#lccefbefwb .gt_center {\n  text-align: center;\n}\n\n#lccefbefwb .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#lccefbefwb .gt_font_normal {\n  font-weight: normal;\n}\n\n#lccefbefwb .gt_font_bold {\n  font-weight: bold;\n}\n\n#lccefbefwb .gt_font_italic {\n  font-style: italic;\n}\n\n#lccefbefwb .gt_super {\n  font-size: 65%;\n}\n\n#lccefbefwb .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#lccefbefwb .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#lccefbefwb .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#lccefbefwb .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#lccefbefwb .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#lccefbefwb .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nNormalized Change in Renewables Production (SDS Target)\n    Year\n      Normalized Production\n    2020\n1.0000002025\n1.276082\n\ncompare this to the original scenario:\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#cegnnzikxi .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#cegnnzikxi .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#cegnnzikxi .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#cegnnzikxi .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#cegnnzikxi .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cegnnzikxi .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#cegnnzikxi .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#cegnnzikxi .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#cegnnzikxi .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#cegnnzikxi .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#cegnnzikxi .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#cegnnzikxi .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#cegnnzikxi .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#cegnnzikxi .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#cegnnzikxi .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#cegnnzikxi .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#cegnnzikxi .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cegnnzikxi .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#cegnnzikxi .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#cegnnzikxi .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cegnnzikxi .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#cegnnzikxi .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#cegnnzikxi .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cegnnzikxi .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cegnnzikxi .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#cegnnzikxi .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#cegnnzikxi .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#cegnnzikxi .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#cegnnzikxi .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cegnnzikxi .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#cegnnzikxi .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#cegnnzikxi .gt_left {\n  text-align: left;\n}\n\n#cegnnzikxi .gt_center {\n  text-align: center;\n}\n\n#cegnnzikxi .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#cegnnzikxi .gt_font_normal {\n  font-weight: normal;\n}\n\n#cegnnzikxi .gt_font_bold {\n  font-weight: bold;\n}\n\n#cegnnzikxi .gt_font_italic {\n  font-style: italic;\n}\n\n#cegnnzikxi .gt_super {\n  font-size: 65%;\n}\n\n#cegnnzikxi .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#cegnnzikxi .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#cegnnzikxi .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#cegnnzikxi .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#cegnnzikxi .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#cegnnzikxi .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nTMSR Renewables Production (SDS)\n    Year\n      TMSR\n    2020\n1.0000002025\n1.400478\n\nNote here that the percentage change indicated by the trajectory\nchart is different from that of the scenario. That is because we are\nshowing the percentage increase as a percentage of the\nsector, not technology.\nOne way we can show this is by calculating the portfolio’s initial\nsector exposure:\n\n[1] 44878.18\n\nand determine what the growth is as a percentage of this value:\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#britqfnyvj .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#britqfnyvj .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#britqfnyvj .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#britqfnyvj .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#britqfnyvj .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#britqfnyvj .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#britqfnyvj .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#britqfnyvj .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#britqfnyvj .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#britqfnyvj .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#britqfnyvj .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#britqfnyvj .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#britqfnyvj .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#britqfnyvj .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#britqfnyvj .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#britqfnyvj .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#britqfnyvj .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#britqfnyvj .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#britqfnyvj .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#britqfnyvj .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#britqfnyvj .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#britqfnyvj .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#britqfnyvj .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#britqfnyvj .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#britqfnyvj .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#britqfnyvj .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#britqfnyvj .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#britqfnyvj .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#britqfnyvj .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#britqfnyvj .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#britqfnyvj .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#britqfnyvj .gt_left {\n  text-align: left;\n}\n\n#britqfnyvj .gt_center {\n  text-align: center;\n}\n\n#britqfnyvj .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#britqfnyvj .gt_font_normal {\n  font-weight: normal;\n}\n\n#britqfnyvj .gt_font_bold {\n  font-weight: bold;\n}\n\n#britqfnyvj .gt_font_italic {\n  font-style: italic;\n}\n\n#britqfnyvj .gt_super {\n  font-size: 65%;\n}\n\n#britqfnyvj .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#britqfnyvj .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#britqfnyvj .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#britqfnyvj .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#britqfnyvj .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#britqfnyvj .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nGrowth in Renewables as Percentage of Sector (SDS Target)\n    Year\n      Growth as Percentage of Sector\n    2020\n0.00000002025\n0.1334926\n\ncomparing this to the SMSP of the original scenario, we get what we\nexpect:\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#clukoqwgbc .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#clukoqwgbc .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#clukoqwgbc .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#clukoqwgbc .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#clukoqwgbc .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#clukoqwgbc .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#clukoqwgbc .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#clukoqwgbc .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#clukoqwgbc .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#clukoqwgbc .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#clukoqwgbc .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#clukoqwgbc .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#clukoqwgbc .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#clukoqwgbc .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#clukoqwgbc .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#clukoqwgbc .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#clukoqwgbc .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#clukoqwgbc .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#clukoqwgbc .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#clukoqwgbc .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#clukoqwgbc .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#clukoqwgbc .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#clukoqwgbc .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#clukoqwgbc .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#clukoqwgbc .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#clukoqwgbc .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#clukoqwgbc .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#clukoqwgbc .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#clukoqwgbc .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#clukoqwgbc .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#clukoqwgbc .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#clukoqwgbc .gt_left {\n  text-align: left;\n}\n\n#clukoqwgbc .gt_center {\n  text-align: center;\n}\n\n#clukoqwgbc .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#clukoqwgbc .gt_font_normal {\n  font-weight: normal;\n}\n\n#clukoqwgbc .gt_font_bold {\n  font-weight: bold;\n}\n\n#clukoqwgbc .gt_font_italic {\n  font-style: italic;\n}\n\n#clukoqwgbc .gt_super {\n  font-size: 65%;\n}\n\n#clukoqwgbc .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#clukoqwgbc .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#clukoqwgbc .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#clukoqwgbc .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#clukoqwgbc .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#clukoqwgbc .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nSMSP Renewables Production (SDS)\n    Year\n      SMSP\n    2020\n0.00000002025\n0.1334926\n\nThis is just one difficult in interpretation with the current method\nof plotting. On-top of this, there are actually other more precise\nproblems.\nProblem 1:\nBenchmarks for Increasing Technologies\nPlotting values as we currently do in `r2dii.plot``, we see a\npotential issue arise in the context of benchmarks. Looking at the\nequations, what we currently plot (for increasing technologies) is:\nActual portfolio production:\n\\(\\frac{p_i(t)}{p_i(t_0)}\\)\nBenchmark:\n\\(\\frac{p_i^{benchmark}(t)}{p_i^{benchmark}(t_0)}\\)\nPortfolio targets: \\[\n\\begin{aligned}\n\\frac{p_i^{target}(t)}{p_i^{target}(t_0)} &=\n\\frac{p_i(t_0)}{p_i^{target}(t_0)} +\n\\frac{P(t_0)}{p_i^{target}(t_0)}*\\left(\\frac{s_i(t)-s_i(t_0)}{S(t_0)}\\right)\n\\\\\n&= 1 +\n\\frac{P(t_0)}{p_i(t_0)}*\\left(\\frac{s_i(t)-s_i(t_0)}{S(t_0)}\\right)\n\\end{aligned}\n\\] but since \\(p_i^{target}(t_0) =\np_i(t_0)\\) by definition:\n\\[\n\\begin{aligned}\n\\frac{p_i^{target}(t)}{p_i(t_0)} &= 1 +\n\\frac{P(t_0)}{p_i(t_0)}*\\left(\\frac{s_i(t)-s_i(t_0)}{S(t_0)}\\right) \\\\\n\\end{aligned}\n\\]\nThe problem here is the \\(P(t_0)\\)\ndependency on the RHS of the target calculations. In particular, let’s\nconsider two different cases. In both cases, the benchmark production,\nand scenario values are constant. Further, the portfolio production for\nsome increasing technology, say renewables, is also constant.\nThe only differing value is the overall production that\nthe portfolio has in the power sector. The proposition is that, in this\nsituation, the benchmark would be plotted in different shaded regions\ndefined by the scenario.\nLet’s see this with actual data. Let’s define some fake Asset-Based\nCompany Data, and two fake portfolios:\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#ouqcpdfkum .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ouqcpdfkum .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ouqcpdfkum .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ouqcpdfkum .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ouqcpdfkum .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ouqcpdfkum .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ouqcpdfkum .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ouqcpdfkum .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ouqcpdfkum .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ouqcpdfkum .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ouqcpdfkum .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ouqcpdfkum .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ouqcpdfkum .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ouqcpdfkum .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ouqcpdfkum .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ouqcpdfkum .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ouqcpdfkum .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ouqcpdfkum .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ouqcpdfkum .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ouqcpdfkum .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ouqcpdfkum .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ouqcpdfkum .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ouqcpdfkum .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ouqcpdfkum .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ouqcpdfkum .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ouqcpdfkum .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ouqcpdfkum .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ouqcpdfkum .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ouqcpdfkum .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ouqcpdfkum .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ouqcpdfkum .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ouqcpdfkum .gt_left {\n  text-align: left;\n}\n\n#ouqcpdfkum .gt_center {\n  text-align: center;\n}\n\n#ouqcpdfkum .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ouqcpdfkum .gt_font_normal {\n  font-weight: normal;\n}\n\n#ouqcpdfkum .gt_font_bold {\n  font-weight: bold;\n}\n\n#ouqcpdfkum .gt_font_italic {\n  font-style: italic;\n}\n\n#ouqcpdfkum .gt_super {\n  font-size: 65%;\n}\n\n#ouqcpdfkum .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#ouqcpdfkum .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#ouqcpdfkum .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ouqcpdfkum .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#ouqcpdfkum .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#ouqcpdfkum .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nAsset-Based Company Data\n    Company\n      Sector\n      Technology\n      Year\n      Production\n    company 1\npower\nrenewablescap\n2020\n100company 1\npower\nrenewablescap\n2025\n200company 2\npower\nrenewablescap\n2020\n100company 2\npower\nrenewablescap\n2025\n50company 2\npower\nhydrocap\n2020\n10000company 2\npower\nhydrocap\n2025\n10000\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#oyokphwnjh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#oyokphwnjh .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#oyokphwnjh .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#oyokphwnjh .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#oyokphwnjh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oyokphwnjh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#oyokphwnjh .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#oyokphwnjh .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#oyokphwnjh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#oyokphwnjh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#oyokphwnjh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#oyokphwnjh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#oyokphwnjh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#oyokphwnjh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#oyokphwnjh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#oyokphwnjh .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#oyokphwnjh .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oyokphwnjh .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#oyokphwnjh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#oyokphwnjh .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oyokphwnjh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#oyokphwnjh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#oyokphwnjh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oyokphwnjh .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oyokphwnjh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#oyokphwnjh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#oyokphwnjh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#oyokphwnjh .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#oyokphwnjh .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oyokphwnjh .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#oyokphwnjh .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#oyokphwnjh .gt_left {\n  text-align: left;\n}\n\n#oyokphwnjh .gt_center {\n  text-align: center;\n}\n\n#oyokphwnjh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#oyokphwnjh .gt_font_normal {\n  font-weight: normal;\n}\n\n#oyokphwnjh .gt_font_bold {\n  font-weight: bold;\n}\n\n#oyokphwnjh .gt_font_italic {\n  font-style: italic;\n}\n\n#oyokphwnjh .gt_super {\n  font-size: 65%;\n}\n\n#oyokphwnjh .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#oyokphwnjh .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#oyokphwnjh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#oyokphwnjh .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#oyokphwnjh .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#oyokphwnjh .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nFake Portfolio 1\n    Loan Size\n      Company\n      Sector\n    1\ncompany 1\npower\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#eedzdzlppp .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#eedzdzlppp .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#eedzdzlppp .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#eedzdzlppp .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#eedzdzlppp .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#eedzdzlppp .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#eedzdzlppp .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#eedzdzlppp .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#eedzdzlppp .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#eedzdzlppp .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#eedzdzlppp .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#eedzdzlppp .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#eedzdzlppp .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#eedzdzlppp .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#eedzdzlppp .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#eedzdzlppp .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#eedzdzlppp .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eedzdzlppp .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#eedzdzlppp .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#eedzdzlppp .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eedzdzlppp .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#eedzdzlppp .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#eedzdzlppp .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#eedzdzlppp .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eedzdzlppp .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#eedzdzlppp .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#eedzdzlppp .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#eedzdzlppp .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#eedzdzlppp .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eedzdzlppp .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#eedzdzlppp .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eedzdzlppp .gt_left {\n  text-align: left;\n}\n\n#eedzdzlppp .gt_center {\n  text-align: center;\n}\n\n#eedzdzlppp .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#eedzdzlppp .gt_font_normal {\n  font-weight: normal;\n}\n\n#eedzdzlppp .gt_font_bold {\n  font-weight: bold;\n}\n\n#eedzdzlppp .gt_font_italic {\n  font-style: italic;\n}\n\n#eedzdzlppp .gt_super {\n  font-size: 65%;\n}\n\n#eedzdzlppp .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#eedzdzlppp .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#eedzdzlppp .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#eedzdzlppp .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#eedzdzlppp .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#eedzdzlppp .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nFake Portfolio 2\n    Loan Size\n      Company\n      Sector\n    1\ncompany 2\npower\n\nThe only difference between the two companies, is that one has a\n(very large) hydro plant, and the other does not. Same for the\ntwo portfolios.\nNow, let’s calculate targets for these portfolios:\n\n\n\nIt can be seen that, just by virtue of how big the portfolio’s\nproduction is in the sector, the “Corporate Economy” finds itself\naligned with two very different scenarios.\nProblem\n2: Increasing Technologies with Zero Initial Production\nAnother large issue arises when the portfolio initially has no\nproduction in an increasing technology. When using the sector market\nshare percentage, we note that a production target may be added for\ntechnologies, even if no initial production exists for this technology,\nso long as there is exposure to the sector.\nFor example, if a portfolio has only gas production, we would expect\ntargets to be added for renewables. We could reasonably imagine an\noutput dataset that looks like this:\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#qkgyvixsou .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#qkgyvixsou .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qkgyvixsou .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#qkgyvixsou .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#qkgyvixsou .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qkgyvixsou .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qkgyvixsou .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#qkgyvixsou .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#qkgyvixsou .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#qkgyvixsou .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#qkgyvixsou .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#qkgyvixsou .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#qkgyvixsou .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#qkgyvixsou .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#qkgyvixsou .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#qkgyvixsou .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#qkgyvixsou .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qkgyvixsou .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#qkgyvixsou .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#qkgyvixsou .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qkgyvixsou .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#qkgyvixsou .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#qkgyvixsou .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qkgyvixsou .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qkgyvixsou .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#qkgyvixsou .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#qkgyvixsou .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qkgyvixsou .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qkgyvixsou .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qkgyvixsou .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qkgyvixsou .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qkgyvixsou .gt_left {\n  text-align: left;\n}\n\n#qkgyvixsou .gt_center {\n  text-align: center;\n}\n\n#qkgyvixsou .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#qkgyvixsou .gt_font_normal {\n  font-weight: normal;\n}\n\n#qkgyvixsou .gt_font_bold {\n  font-weight: bold;\n}\n\n#qkgyvixsou .gt_font_italic {\n  font-style: italic;\n}\n\n#qkgyvixsou .gt_super {\n  font-size: 65%;\n}\n\n#qkgyvixsou .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#qkgyvixsou .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#qkgyvixsou .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#qkgyvixsou .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#qkgyvixsou .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#qkgyvixsou .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nSMSP Renewables Production (SDS)\n    Sector\n      Technology\n      Year\n      Metric\n      Production\n    power\nrenewablescap\n2020\nprojected\n0power\nrenewablescap\n2025\nprojected\n100power\ncoalcap\n2020\nprojected\n100power\ncoalcap\n2025\nprojected\n50power\nrenewablescap\n2020\ntarget_SDS\n0power\nrenewablescap\n2025\ntarget_SDS\n200power\ncoalcap\n2020\ntarget_SDS\n100power\ncoalcap\n2025\ntarget_SDS\n25\n\nWith the current plotting method, we would be trying to plot this\nvalue:\n\\(\\frac{p_i(t)}{p_i(t_0)}\\)\nConsider in particular the renewables targets. Since \\(p_{renewables}(t_0) = 0MW\\), we would be\ntrying to divide by 0. Said otherwise, to build out any amount from an\ninitial value of \\(0MW\\) would require\nan infinite percent growth.\nSolution: Plot\nPortfolio-Invariant Units\nOne possible solution to this problem can be seen if we re-arrange\nthe target calculation functions.\nFor the technology-market share we can express the target function\nas:\n\\[\\frac{p_i^{target}(t) -\np_i(t_0)}{p_i(t_0)} =  \\frac{s_i(t)-s_i(t_0)}{s_i(t_0)}\\]\nand similarly for the sector-market share:\n\\[\\frac{p_i^{target}(t) -\np_i(t_0)}{P(t_0)} =  \\frac{s_i(t)-s_i(t_0)}{S(t_0)}\\]\nIn both cases, we have collected all portfolio-related values to the\nLHS and scenario related values to the RHS. The common units here, then,\nare Percent Change in either the Technology or Sector.\nLet’s see how this might address the problems posed above:\nProblem\n1 Solved: Benchmarks for Increasing Technologies\nFirst, let’s calculate the output of our two loanbooks (taken from\nabove) and calculate the values above:\n\n\n\n\n\n\nIt is a little bit difficult to see what is going on with the\nbenchmark values, since the portfolio values are messing with the scale,\nso let’s remove them for now:\n\n\n\nWe see that the benchmark now consistently falls in the same\ntrajectory in comparison to the targets, for either portfolio.\nProblem\n2 Solved: Increasing Technologies with Zero Initial Production\nSimilarly, it is straight-forward to show that plotting this value\nallows us to plot the percent change from a technology that initially\nstarts at \\(0MW\\). The value that we\nare now plotting is:\n\\[\\frac{p_i(t) -\np_i(t_0)}{P(t_0)}\\]\nIt is completely fine that \\(p_i(t_0) =\n0MW\\), so long as there is some initial sectoral production,\n\\(P(t_0)\\).\nFor our above example, the plots would look something like this:\n\n\n\n\n\n\n",
    "preview": "posts/2022-05-02-market-share-target-setting-methodology-calculation-and-plotting/distill-preview.png",
    "last_modified": "2022-05-03T13:25:12-06:00",
    "input_file": {},
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2022-03-02-ald-becomes-abcd/",
    "title": "PACTA Terminology Update: ALD becomes ABCD",
    "description": "Explaining the decision to change terminology from Asset-Level Data to \nAsset-Based Company Data.",
    "author": [
      {
        "name": "Jackson Hoffart",
        "url": "https://github.com/jdhoffa"
      }
    ],
    "date": "2022-03-02",
    "categories": [
      "methodology"
    ],
    "contents": "\n\n\n\nThe PACTA team has recently decided to update the terminology used to refer to a crucial dataset. The dataset that was previously known as “Asset-Level Data” (ALD) will henceforth be referred to as “Asset-Based Company Data” (ABCD). This note explains our reasoning.\nExplanation\nThe PACTA methodology depends fundamentally on 3 input datasets:\nPortfolio data (e.g. portfolios, loanbooks, etc.)\nClimate change mitigation scenarios (e.g. International Energy Agency’s - Sustainable Development Scenario )1\nData on the production of physical assets\nHistorically, this last dataset was referred to as the “Asset-Level Data” (ALD). This name was a natural choice, since the underlying data describes the production of physical assets that are owned and operated by various companies globally.\nAn asset-level dataset might contain the following information:\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#ascmfvokhv .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ascmfvokhv .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ascmfvokhv .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ascmfvokhv .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ascmfvokhv .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ascmfvokhv .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ascmfvokhv .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ascmfvokhv .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ascmfvokhv .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ascmfvokhv .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ascmfvokhv .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ascmfvokhv .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ascmfvokhv .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ascmfvokhv .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ascmfvokhv .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ascmfvokhv .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ascmfvokhv .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ascmfvokhv .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ascmfvokhv .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ascmfvokhv .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ascmfvokhv .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ascmfvokhv .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ascmfvokhv .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ascmfvokhv .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ascmfvokhv .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ascmfvokhv .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ascmfvokhv .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ascmfvokhv .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ascmfvokhv .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ascmfvokhv .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ascmfvokhv .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ascmfvokhv .gt_left {\n  text-align: left;\n}\n\n#ascmfvokhv .gt_center {\n  text-align: center;\n}\n\n#ascmfvokhv .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ascmfvokhv .gt_font_normal {\n  font-weight: normal;\n}\n\n#ascmfvokhv .gt_font_bold {\n  font-weight: bold;\n}\n\n#ascmfvokhv .gt_font_italic {\n  font-style: italic;\n}\n\n#ascmfvokhv .gt_super {\n  font-size: 65%;\n}\n\n#ascmfvokhv .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#ascmfvokhv .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ascmfvokhv .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#ascmfvokhv .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#ascmfvokhv .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nAsset-Level Data\n    Asset ID\n      Asset Name\n      Sector\n      Technology\n      Year\n      Capacity\n      Capacity Unit\n      Plant Location\n    1\na wind farm\npower\nrenewablescap\n2020\n100\nMW\nES1\na wind farm\npower\nrenewablescap\n2025\n200\nMW\nES2\na coal-fired plant\npower\ncoalcap\n2020\n500\nMW\nDE2\na coal-fired plant\npower\ncoalcap\n2025\n300\nMW\nDE\n\nIn the table above, data is given out directly at the level of the physical asset.\nHowever, while it is possible to run PACTA using data at the asset-level, the back-end for both the PACTA for Investors online tool, and the free data-set provided for the PACTA for Banks desktop tool have been pre-processed. The actual data used has already been aggregated from the asset-level, to the company-level (for all companies owning the assets):\n\n\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#voxqygjupy .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#voxqygjupy .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#voxqygjupy .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#voxqygjupy .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#voxqygjupy .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#voxqygjupy .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#voxqygjupy .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#voxqygjupy .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#voxqygjupy .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#voxqygjupy .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#voxqygjupy .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#voxqygjupy .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#voxqygjupy .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#voxqygjupy .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#voxqygjupy .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#voxqygjupy .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#voxqygjupy .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#voxqygjupy .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#voxqygjupy .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#voxqygjupy .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#voxqygjupy .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#voxqygjupy .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#voxqygjupy .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#voxqygjupy .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#voxqygjupy .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#voxqygjupy .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#voxqygjupy .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#voxqygjupy .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#voxqygjupy .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#voxqygjupy .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#voxqygjupy .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#voxqygjupy .gt_left {\n  text-align: left;\n}\n\n#voxqygjupy .gt_center {\n  text-align: center;\n}\n\n#voxqygjupy .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#voxqygjupy .gt_font_normal {\n  font-weight: normal;\n}\n\n#voxqygjupy .gt_font_bold {\n  font-weight: bold;\n}\n\n#voxqygjupy .gt_font_italic {\n  font-style: italic;\n}\n\n#voxqygjupy .gt_super {\n  font-size: 65%;\n}\n\n#voxqygjupy .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#voxqygjupy .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#voxqygjupy .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#voxqygjupy .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#voxqygjupy .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\nAsset-Based Company Data\n    Company ID\n      Company Name\n      Sector\n      Technology\n      Year\n      Capacity\n      Capacity Unit\n      Plant Location\n    3\nrenewables inc.\npower\nrenewablescap\n2013\n11347.85\nMW\nAS3\nrenewables inc.\npower\nrenewablescap\n2014\n11744.77\nMW\nAS3\nrenewables inc.\npower\nrenewablescap\n2015\n12141.70\nMW\nAS3\nrenewables inc.\npower\nrenewablescap\n2016\n12538.63\nMW\nAS3\nrenewables inc.\npower\nrenewablescap\n2017\n12935.55\nMW\nAS3\nrenewables inc.\npower\nrenewablescap\n2018\n13332.48\nMW\nAS\n\nNotice that, while the data itself is based on information at the physical asset-level, it has already been aggregated to the company level (by ownership stake). In this sense, the data is not at the “Asset-Level” but rather the “Company-Level”. We therefor consider “Asset-Based Company Data” to be a more accurate name for the data provided.\nhttps://www.transitionmonitor.com/pacta-for-banks-2020/methodology-and-supporting-materials/↩\n",
    "preview": "posts/2022-03-02-ald-becomes-abcd/preview.png",
    "last_modified": "2022-03-11T18:04:29-06:00",
    "input_file": {},
    "preview_width": 1917,
    "preview_height": 1288
  },
  {
    "path": "posts/2022-01-14-allocating-macroeconomic-carbon-budgets-to-microeconomic-actors/",
    "title": "Allocating Macroeconomic Carbon Budgets to Microeconomic Actors",
    "description": "An application of the market-share approach.",
    "author": [
      {
        "name": "George Harris",
        "url": "https://github.com/georgeharris2deg"
      }
    ],
    "date": "2022-01-14",
    "categories": [
      "other"
    ],
    "contents": "\nThe market-share approach is a method for allocating macroeconomic carbon budgets, translated into sectoral technology production pathways, to microeconomic actors 1 (e.g. a power company). In other words, it is an attempt to distribute the required global decarbonization efforts to those entities acting in the real economy.\nIn the case of high-carbon technologies, such as coal-fired power generation, energy scenarios require a decrease or “phase down” in production.\nIn a hypothetical world, let’s imagine that there are 100 MW of coal-fired power production in time 0 (\\(t_{0}\\)). In order to keep global temperature rise to 1.5C in the next 5 years (\\(t_{5}\\)) this production needs to decrease to 50MW.\nWe can set a decarbonization target by using the technology-market-share ratio,\n\\[TMSR = \\frac{s_{i}(t)}{s_{i}(t_{0})} ,\\]\nwhere \\(s_i\\) is the scenario’s given production for technology \\(i\\).\nIn our case:\n\\[TMSR = \\frac{50MW}{100MW} = 0.5\\] In other words, the ratio of coal-fired power generation in \\(t_{0}\\) to \\(t_{5}\\) is 2:1.\nWe now need to allocate this decarbonization ratio to the microeconomic actor., in this case “Power Company A”.\nPower Company A has 5 MW of coal-fired power generating capacity - call this \\({p_{i}(t_{0})}\\)\nWe then calculate the power company’s required decarbonization target \\(p_{i}^{tmsr}(t)\\) (as defined by any given scenario) as:\n\\[p_{i}^{tmsr}(t) = {p_{i}(t_{0})}*\\frac{s_{i}(t)}{s_{i}(t_{0})}\\]\nIn the Case of Power Company A, the scenario target in year \\(t_{5}\\) would be:\nCompany A: \\(p_{i}^{tmsr}(t_{5}) = 5MW*\\frac{50MW}{100MW}\\)\nCompany A: \\(p_{i}^{tmsr}(t_{5}) = 2.5MW\\)\nIn other words, if Power company A is to be considered aligned with the selected scenario in the next 5 years it needs to decrease its power capacity from 5.0 MW to 2.5 MW.\nNote here that production capacity of the technology is taken as a proxy for a power company’s market share within that technology, hence the name “technology-market-share”.\nIn the case of low-carbon technologies, such as renewable energies, energy scenarios require an increase or “phase up” in production. These technologies currently occupy the smaller market-share of the two categories.\nIn our hypothetical world, let’s imagine there are 50 MW of renewable power in time 0 (\\(t_{0}\\)). In order to keep global temperature rise to 1.5C in the next 5 years (\\(t_{5}\\)) this production needs to increase to 100MW.\nHere again we will apply a market-share approach to allocate efforts to the company, however it will differ slightly from the method outlined above.\nFor low-carbon technologies we use the sectoral production (sum of production of all technologies within the sector) as a proxy for the market-share.\nWe can set a required build-out target using the so-called sector-market-share percentage,\n\\[SMSP = \\frac{s_{i}(t)-s_{i}(t_{0})}{S(t_{0})} , \\]\nwhere \\(s_{i}(t)\\) is the low carbon technology at \\(t_{5}\\) - in our case 100MW - and \\(s_{i}(t_{0})\\) is the current low carbon technology from the scenario - in our case 50MW.\n\\(S(t_{0})\\) is the current capacity of all technologies in the sector from the scenario.\nIn our example above this would be at \\(t_{0}\\): 100 MW of coal + 50 MW of renewables. In other words 150 MW of total power capacity, which is assumed to remain constant to \\(t_{5}\\).\nIt follows that the required build-out rate of renewable energy would be:\n\\[SMSP = \\frac{100MW-50MW}{150MW} = 0.33\\]\nIn other words, the scenario prescribes the increase in build out of renewables as a share of the power sector, in absolute terms, by 33% in the next 5 years.\nWe now need to allocate this required build-out to the microeconomic actors. In this case Power Company B and Power Company C.\nPower Company B has 0 MW of renewable power capacity and 5 MW of coal-fired power capacity.\nPower company C has 1 MW of renewable power capacity and 10 MW of coal-fired power capacity.\nWe calculate the power companies required build-out (\\(p_{i}^{smsp}(t)\\)) (defined by any given scenario) according to the following formula:\n\\[p_{i}^{smsp}(t) = {p_{i}(t_{0})}+P(t_{0})*\\frac{s_{i}(t)-s_{i}(t_{0})}{S(t_{0})}\\]\nwhere \\({p_{i}(t_{0})}\\) is the company’s current production for renewables and \\(P(t_{0})\\) is the company’s current total power production capacity.\nPower Company B’s required renewable capacity build-out for 5 years’ time is:\nCompany B: \\(p_{i}^{smsp}(t) = 0+5*\\frac{100-50}{150} = 1.67MW\\)\nIn other words, to be considered aligned with this scenario Company B would have to go from 0 MW of renewables to 1.67 MW in 5 years’ time.\nPower Company C’s required renewable capacity build-out for 5 years’ time is:\nCompany C: \\(p_{i}^{smsp}(t) = 1+11*\\frac{100-50}{150} = 4.33MW\\)\nIn other words, to be considered aligned with this scenario Company C would have to go from 1 MW of renewables to 4.33 MW in 5 years’ time.\nNote here that production capacity of the sector is taken as a proxy for a power company’s market share within that sector, hence the name “sector-market-share”.\nThere are two reasons for the different approaches adopted for high- and low-carbon technologies:\nNeed to build out low carbon technologies even if a microeconomic actor doesn’t have them in the current year.\nThis is illustrated in our example above by Company B. If we were to apply the TMSR where the company’s technology capacity is taken as the proxy for its market-share. Then Company B would not be required to build out any renewables under the TMSR approach as its market share would be equal to 0.\nBy defining the market share according to the sector’s capacity we can obtain a build-out in low carbon technologies for all micro-economic actors. In the case of Company B, if we consider its coal power production and allocate the scenario’s build-out requirement to Company B via the SMSP we see that Company B must build out 1.67 MW.\nNeed to account for laggards in low carbon technologies.\nFor example, if a company has a large share of the sectoral market by absolute size yet their low carbon technology share is relatively small. They are required to build out their low carbon production at a faster rate than a company with a small sectoral market share but high low carbon technology share. This is to say that companies considered as low carbon laggards, defined by the technology mix being lower in low carbon technologies than the average company, are required to build out low carbon technologies at a faster rate than low carbon leaders. i.e. companies with a high than average technology share in low carbon technologies.\nLet’s break this down with an example:\nTaking company C as an example, it would have to increase its renewable production to 4.33 MW. Whereas a company with a smaller sectoral market share but a larger initial relative share of renewables (a low carbon leader) wouldn’t be required to make such a steep increase.\nFor example, if we introduce another company D that has the same starting renewable capacity as C i.e., 1 MW but its total power is only 3 MW (the other 2 MW coming from coal). Then company D’s alignment target for the same scenario would be.\nCompany D: \\(p_{i}^{smsp}(t) = 1+3*\\frac{100-50}{150} = 2MW\\)\nCompany C is required to build-out renewable energy at a rate of 0.2 MW/yr and Company D is required to build-out renewable energy at a rate of 0.67 MW/yr to be deemed aligned despite having the same initial absolute amount of renewables.\nIn other words, companies that are currently relative laggards in low carbon technologies in terms of their renewable share of production and when looking at their total sectoral market share are required to build out at a faster rate than leaders in the renewable market segment. Leaders in that their relative mix of low carbon technologies is high compared to their absolute “sector” market share.\nNote that microeconomic actors are defined as companies but can also be defined as financial institutions. In this case, the production of the companies is allocated to the financial institution based on either a portfolio-weighted approach or an ownership approach, depending on the asset class. The same logic applies to allocating macroeconomic carbon budgets and the associated decarbonization efforts to the financial institution’s portfolio. More details on these approaches can be found in the PACTA for Banks methodology here.↩\n",
    "preview": "posts/2022-01-14-allocating-macroeconomic-carbon-budgets-to-microeconomic-actors/preview.jpg",
    "last_modified": "2022-05-02T11:37:53-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2022-01-14-plotting-the-production-volume-trajectory-plots-for-low-carbon-technologies/",
    "title": "Plotting the Production Volume Trajectory Plots for Low Carbon Technologies",
    "description": "A Practical Guide.",
    "author": [
      {
        "name": "George Harris",
        "url": "https://github.com/georgeharris2deg"
      }
    ],
    "date": "2022-01-14",
    "categories": [
      "other"
    ],
    "contents": "\nTable of Contents\nIntroduction\nPart 1: Explanation of the need for two graphs for low carbon technologies\nPart 2: Plotting the volume trajectory plot for low carbon technologies using the r2dii suite of packagesSteps to obtaining correct volume trajectory charts for low carbon technologies\n\nIntroduction\nThe PACTA for banks tool allows for the alignment measurement of a corporate loan book to two types of benchmarks:\nClimate change scenarios\nThe market, defined as the corporate economy, namely all the assets present for the technology in the asset-based company data (ABCD) set for a defined region.\nIn the power, oil and gas, coal and automotive sectors a market share allocation rule and a trajectory approach to alignment are used which require two approaches:\nTechnology Market Share Ratio (TMSR) in the case of High Carbon technologies, which is those required to decrease.\nSector Market Share Percentage (SMSP) in the case of Low Carbon technologies, which is those required to increase.\n(For methodological details of the two approaches please refer to the blog post: ‘Allocating Macroeconomic Carbon Budgets to Microeconomic Actors’ by George Harris.)\nIn the current PACTA methodology implementation in the r2dii.analysis package the use of a Sector Market Share Percentage (SMSP) for low carbon technologies requires that a different y-axis is used to plot the alignment of the loan book to climate scenarios and the alignment of the market (corporate economy) to the same scenarios. This is not the case for high carbon technologies which can be plotted on the same axis.\nThis blog post will set out the reasons for this (see Part 1 of this post), as well as explain the practical steps for using the r2dii suite of packages to accurately plot low carbon volume trajectory alignment for portfolio and corporate economy (see Part 2 of this post).\nPart 1: Explanation of the need for two graphs for low carbon technologies\nTo plot the production volume trajectory plots, 3 inputs are needed:\nThe actual production trajectory of the portfolio,\nThe alignment target trajectories form the respective scenarios,\nThe corporate economy (market benchmark) production trajectory.\nWhen the TMSR is being used, i.e. for high carbon technologies, all three of these components can be plotted using the same y-axis as the alignment target trajectory (2) from the respective scenarios is the same for both the portfolio and the corporate economy.\nHowever, when the SMSP is being used, i.e. for low carbon technologies, the portfolio production trajectory should be plotted in comparison to its alignment target trajectories from the respective scenarios (1 and 2 above) but separately from the corporate economy (market benchmark) production trajectory (3 above), which should be plotted against its own set of alignment target trajectories from the respective scenarios. In other words the alignment target trajectories (2) are different for the portfolio and the corporate economy.\nThe reason for this is that the portfolio has its own technology market share as a percentage of its sector market share which requires its own set of scenario alignment target trajectories, and the corporate economy will have a distinctly different technology market share as a percentage of its sector market share (see this blog post for a detailed explanation of SMSP and TMSR approaches causing this difference). Therefore, the corporate economy will require its own set of scenario alignment trajectory targets and cannot be compared in one plot to the sceneario alignment trajectory targets of the portfolio.\nThis is not an issue for high carbon technologies (using TMSR approach) as despite the market share of technologies varying between the portfolio and the corporate economy, the ratio derived from the scenario i.e. the required decrease in production is consistent for both. In other words, the portfolio’s and corporate economy’s production trajectories can be plotted against the same scenario alignment targets.\nNote that in both cases when it comes to plotting the respective components (portfolio and corporate economy trajectory and scenario alignment targets) all lines are normalized to the start year. Meaning that what is being shown is a relative comparison (build-out for low carbon and decrease or “phase out” for high carbon) and not absolute figures.\nIt follows that the low carbon plots should be read as the portfolio’s mis(alignment) to its targets and the corporate economy’s (mis)alignment to its targets, and those (mis)alignments are visible when analysing the production trajectory line position with respect to scenario target lines’ positions. From that one can say that “the portfolio is more or less aligned to climate change scenarios than the corporate economy” based on their position relative to their respective scenario targets.\nPart 2: Plotting the volume trajectory plot for low carbon technologies using the r2dii suite of packages\nIn practical terms when using the r2dii suite of packages to run and visualize PACTA production volume trajectory plots one should plot the high carbon technologies as explained on the r2dii.plot package website, using the output form r2dii.analysis::target_market_share and plotting it using the r2dii.plot::plot_trajectory() function, (i.e. the portfolio line and corporate economy are given on the same graph).\nHowever, for low carbon technologies where the corporate economy and the portfolio need to have their own target scenario trajectories (see Part 1 for explanation), separate plots need to be created and a different, less straightforward process needs to be followed than that described in the r2dii.plot package documentation.\nSteps to obtaining correct volume trajectory charts for low carbon technologies\nIn the following example, we use the sample data from the r2dii.data package, but you should use your own data.\nThere are two steps needed to correctly displaying volume trajectory data for low carbon technologies:\n1) Calculating and plotting the portfolio actual trajectory and its respective scenario alignment targets.\nThis is done using the usual workflow from r2dii.analysis. See here for details.\nExample\n\n\nlibrary(r2dii.data)\nlibrary(r2dii.match)\nlibrary(r2dii.analysis)\nlibrary(r2dii.plot)\nlibrary(tidyverse)\n\nloanbook_demo <- r2dii.data::loanbook_demo\n\nloanbook <- loanbook_demo\nald <- ald_demo\nscenario <- co2_intensity_scenario_demo\nregion <- region_isos_demo\n\nmatched_loanbook <- loanbook %>%\n  match_name(ald) %>%\n  prioritize()\n\ndata <- matched_loanbook %>%\n  target_market_share(ald, scenario = scenario_demo_2020, region_isos = region) %>%\n  filter(\n    technology == \"renewablescap\",\n    region == \"global\",\n    metric != \"corporate_economy\"\n  ) %>%\n  mutate(\n    label = case_when(\n      metric == \"projected\" ~ \"Projected\",\n      metric == \"target_sds\" ~ \"SDS\",\n      metric == \"target_sps\" ~ \"SPS\",\n      metric == \"target_cps\" ~ \"CPS\",\n      TRUE ~ metric\n    )\n  )\n\nplot_trajectory(data) +\n  labs(\n    title = \"Corporate Economy Alignment \\n for Renewablescap Technology\",\n    x = \"Year\",\n    y = \"Production normalized to start year\"\n  )\n\n\n2) Calculating and plotting the scenario alignment target for the corporate economy.\nFirstly, we need to create a mock loan book with all the companies in the asset-based company data (ABCD) for the sector we want to plot. (Note that we need it for the whole sector i.e., high and low carbon technologies). There is an option here to filter the corporate economy for the desired region. (Note that regions are defined by scenarios and can be found in r2dii.data::region_isos. It is advised that the scenario target region is consistent with the corporate economy - i.e., if you use a European target form the scenarios you should use a European corporate economy.\nWe are going to treat this loan book as the corporate economy loan book, i.e. a loan book that has a loan to all companies in the ABCD per region and per sector defined. We do not need financial variables for this calculation.\nExample\n\n\nlibrary(r2dii.data)\nlibrary(r2dii.match)\nlibrary(r2dii.analysis)\nlibrary(r2dii.plot)\nlibrary(tidyverse)\n\nPrepare the loan book with companies in power sector.\n\n\n# ABCD_real <- read_csv(\"….file path to Asset Based Company data….\")\nABCD_demo <- r2dii.data::ald_demo\n\nCorporate economy for the power sector only.\n\n\nABCD <- ABCD_demo %>%\n  filter(sector == \"power\", \n         is_ultimate_owner == TRUE)\n\n(Optional) corporate economy for specific regions/countries.\n\n\nABCD_europe <- ABCD %>%\n  filter(technology %in% c(\"hydrocap\", \"renewablescap\", \"nuclearcap\", \"oilcap\", \"coalcap\", \"gascap\") &\n           plant_location %in% c(\"FR\",\"AT\",\"BE\",\"BG\",\"HR\",\"CY\",\"CZ\",\"DK\",\"EE\",\"FI\",\"DE\",\"GR\",\"HU\",\"IE\",\"IT\",\"LV\",\"LT\",\"LU\",\"MT\",\"NL\",\"PL\",\"PT\",\"RO\",\"SK\",\"SI\",\"ES\",\"SE\") &\n           is_ultimate_owner == TRUE)\n\nWrite the names of the companies that you want to include in your corporate economy benchmark.\n\n\nnames_for_lbk <- unique(ABCD$name_company)\n\nLoad your loan book. (The following line is a reference for how the loanbook should look like.)\n\n\nloanbook_demo <- r2dii.data::loanbook_demo\n\nUsing the loanbook_demo, you can replace the names of the companies for the ones you want to include as your corporate economy benchmark, and change the code for the corresponding sector\n\n\nloanbook_demo_for_power <- loanbook_demo %>% \n  slice(1:length(names_for_lbk))\n\nloanbook_demo_for_power$name_direct_loantaker <- names_for_lbk\nloanbook_demo_for_power$name_ultimate_parent <- names_for_lbk\nloanbook_demo_for_power$sector_classification_direct_loantaker <- 3511\n\nRead in scenarios.\n\n\n# scenario <- read_csv(\"….file path to Scenarios….\")\nscenario_demo <- r2dii.data::scenario_demo_2020\n\nRead in regions.\n\n\nregion_demo <- r2dii.data::region_isos_demo\n\nMatch the data.\n\n\nmatched_corp_econ <- match_name(loanbook_demo_for_power, ABCD_demo)\n\nlbk_ready <- prioritize(matched_corp_econ) \n\nGenerate the results.\n\n\nresults_corporate_economy <- lbk_ready %>%\n  target_market_share(ABCD_demo, scenario = scenario_demo, region_isos = region_demo, weight_production = FALSE)\n\nPlot the corporate economy volume trajectory plot for low carbon technologies.\n\n\ndata_plot_renewables <- results_corporate_economy %>%\n  filter(\n    technology == \"renewablescap\",\n    region == \"global\",\n    scenario_source == \"demo_2020\",\n    metric != \"corporate_economy\"\n  ) %>%\n  mutate(\n    label = case_when(\n      metric == \"projected\" ~ \"Corporate Economy\",\n      metric == \"target_sds\" ~ \"SDS\",\n      metric == \"target_sps\" ~ \"SPS\",\n      metric == \"target_cps\" ~ \"CPS\",\n      TRUE ~ metric\n    )\n  )\n\ndata_plot_renewables %>%\n  plot_trajectory() +\n  labs(\n    title = \"Corporate Economy Alignment \\n for Renewablescap Technology\",\n    x = \"Year\",\n    y = \"Production normalized to start year\"\n  ) +\n  scale_linetype_manual(values=c(\"solid\", \"solid\", \"solid\", \"dashed\", \"solid\"))\n\n\n\n\n",
    "preview": "posts/2022-01-14-plotting-the-production-volume-trajectory-plots-for-low-carbon-technologies/preview.jpg",
    "last_modified": "2022-03-01T15:42:26-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-10-26-defensive-workflow/",
    "title": "Onboarding to a defensive workflow",
    "description": "The minimum elements of a defensive workflow and links to learn more.",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2021-10-26",
    "categories": [
      "community",
      "onboarding",
      "ds-incubator",
      "workflow"
    ],
    "contents": "\nTable of Contents\nSetup RStudio to start from a blank slate every time you restart R\nUse RStudio projects\nPractice safe paths\nHow to name files\nThis article overviews the minimum elements of a defensive workflow and points you to resources to learn more (video). Beyond onboarding to 2DII, this article should be useful if you suspect you’ve drifted into habits that slow you down or make your work more brittle (https://rstats.wtf/).\nSetup RStudio to start from a blank slate every time you restart R\nUse these settings:\nSave workspace on quit: Never1.\nLoad workspace on start: Off.\nRestart your R session often to confirm you can reproduce your results from a blank slate.\nUse RStudio projects\nRStudio makes it easy to create new projects2 and launch recent projects3. To launch older projects it’s easiest to use a dedicated app like Alfred4.\nPractice safe paths\nFind your project’s files with here().\n\nUse it as a drop-in replacement for file.path(), it will always locate the files relative to your project root. – https://here.r-lib.org/reference/here.html\n\n\n\nlibrary(here)\n\n# Good\n(path <- here(\"_posts\", \"2021-10-26-defensive-workflow\", \"data\", \"greeting.txt\"))\n#> [1] \"/home/rstudio/2degreesinvesting.github.io/_posts/2021-10-26-defensive-workflow/data/greeting.txt\"\nreadLines(path)\n#> [1] \"Hello world\"\n\n# Bad\n(path <- \"/a/brittle path/that/only/i/have/data/greeting.txt\")\n#> [1] \"/a/brittle path/that/only/i/have/data/greeting.txt\"\nreadLines(path)\n#> Error in file(con, \"r\"): cannot open the connection\n\nHow to name files\nName your files following these guidelines:\n\nhttps://speakerdeck.com/jennybc/how-to-name-files\nShift + Ctrl/Cmd + P ↩\nFile > New Project↩\nFile > Recent Projects↩\n↩\n",
    "preview": "posts/2021-10-26-defensive-workflow/preview.jpg",
    "last_modified": "2022-01-18T10:52:58-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-10-22-workflow-to-release-an-r-package-to-cran/",
    "title": "Workflow to release an R package to CRAN",
    "description": "A guide for users of both the GitHub worflow and Gitflow workflow.",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2021-10-22",
    "categories": [
      "r2dii",
      "package",
      "release"
    ],
    "contents": "\nTable of Contents\nPrepare for release\nDid anything change?\nCreate GitHub release\nContinue development\nThe goal of this post is to help you release an R package to CRAN. It works whether you use the GitHub workflow (video) or the Gitflow workflow1 (video).\nPrepare for release\nConsider the release of maurolepore/releaseworkflow v0.0.12.\nCreate a release checklist with usethis::use_release_issue()3.\nCreate a new feature/branch4 (e.g. prepare-v0.0.1) and follow the release checklist until the end of the section “Prepare for release” (tweaks).\nDid anything change?\nYes – the package is not ready for release yet:\nMerge the feature/branch and repeat the main steps under “Prepare for release” until doing so changes nothing.\n\nNo – the package is ready for release:\nDelete the feature/branch prepare-v0.0.1 and create a release/branch v0.0.15.\nIncrement the version number with usethis::use_version().\nSubmit a pull request based on master and confirm clean CI.\ndevtools::submit_cran(). This adds CRAN-RELEASE – delete it.\n\nCreate GitHub release\nRegardless of CRAN create a GitHub release:\nMerge the release branch into master, checkout master, and run usethis::use_github_release()6 to create a new tag v0.0.17 and a corresponding GitHub release.\nIf you’re using the gitflow workflow, ensure the release branch is also merged into develop8 and checkout develop now.\nContinue development\nIncrement the version number with usethis::use_dev_version().\nYou can continue development. If CRAN accepts the submission, then the new tag on master and GitHub release will also have a corresponding CRAN release.\nIf you use the Gitflow workflow, this article assumes you a) use the git flow extension and b) have privileges to push to origin/master and origin/develop.↩\nSee Mauro’s aliases under the section “CRAN release”.↩\nEnsure your remote origin points to the source repo (i.e. your remote setup is “Ours”). This will fail if your remote origin points elsewhere (e.g. your fork).↩\nThis branch is special only in the gitflow workflow; in the github workflow it’s just like any branch other than master.↩\nThis branch is special only in the gitflow workflow; in the github workflow it’s just like any branch other than master.↩\nEnsure your remote origin points to the source repo (i.e. your remote setup is “Ours”). This will fail if your remote origin points elsewhere (e.g. your fork).↩\nThe git flow extension prompts you to enter the tag manually. Use the form vx.y.z like usethis::use_github_release() does. This avoids tagging the same commit twice.↩\nThe git flow merges release features automatically into both master and devleop (see https://bit.ly/gitflow-table).↩\n",
    "preview": "posts/2021-10-22-workflow-to-release-an-r-package-to-cran/preview.jpg",
    "last_modified": "2022-01-18T10:52:58-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-10-18-r2dii-plot-0-2-0/",
    "title": "r2dii.plot 0.2.0 is now on CRAN",
    "description": "New styling functions, new arguments to `plot_*()`, and bug fixes.",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2021-10-18",
    "categories": [
      "r2dii",
      "package",
      "release"
    ],
    "contents": "\nTable of Contents\nNew styling functions\nNew arguments to plot_*()\nAcknowledgements\nr2dii-plot 0.2.0 is now on CRAN. This is a minor release with new features, enhancements and bug fixes. This post focuses on the new features. For everything else see the changelog.\nYou can install r2dii.plot from CRAN with:\n\ninstall.packages(\"r2dii.plot\")\nAnd you can use it with library(). Here we’ll also use the ggplot2 package.\n\n\nlibrary(ggplot2, warn.conflicts = FALSE)\nlibrary(r2dii.plot)\n\nNew styling functions\nA new family of functions help you apply 2DII colour palettes to any plot.\nNote this plot uses data and functions from the ggplot2 package exclusively.\n\n\np <- ggplot(mpg) + geom_point(aes(displ, hwy, color = class))\np\n\n\nYou can now use r2dii.plot to apply 2DII’s colour scale with:\n\n\np + scale_colour_r2dii()\n\n\nTo discover other functions in the “2dii scale” family run ?scale_colour_r2dii() and navigate to the section “See also”.\nNew arguments to plot_*()\nThe plot_*() functions gained new arguments to replicate features of the qplot_*() functions.\nFor example, compare these two plots. Note the shorter (5 years) time span and nicer legend labels in the plot created with qplot_*().\n\n\ndata <- subset(sda, sector == \"cement\")\n\nqplot_emission_intensity(data)\n\n\nplot_emission_intensity(data)\n\n\nYou can now replicate those features of qplot_*() with the new arguments span_5yr and convert_label:\n\n\nplot_emission_intensity(data, span_5yr = TRUE, convert_label = to_title)\n\n\nAcknowledgements\n\n\n\nThanks to @cjyetman for proposing the scale_*() functions, to @georgeharris2deg for reporting bugs, and to all contributors to this release (AlexAxthelm, maurolepore, MonikaFu).\n\n\n",
    "preview": "posts/2021-10-18-r2dii-plot-0-2-0/preview.jpg",
    "last_modified": "2022-01-18T11:38:02-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-06-29-r2dii-data-0-2-0-is-now-on-cran/",
    "title": "r2dii.data 0.2.0 is now on CRAN",
    "description": "Signifcant changes to `ald_demo`",
    "author": [
      {
        "name": "Jackson Hoffart",
        "url": "https://github.com/jdhoffa"
      }
    ],
    "date": "2021-06-29",
    "categories": [
      "r2dii",
      "package",
      "release"
    ],
    "contents": "\n\nContents\nald_demo gains a column, loses a column, and has two renamed\nald_demo gains a new sector hdv\n\nr2dii.data 0.2.0 is now on CRAN. This release fixes a number of bugs that you can learn about here; this post shows enhancements and new features.\nYou can install it from CRAN with:\ninstall.packages(\"r2dii.data\")\nThen use them with:\n\n\nlibrary(r2dii.data)\nlibrary(r2dii.match)\n\n\n\nThe most notable update in this release relates to changes in the demonstration dataset ald_demo. This data is meant to reflect a dataset that is provided to users by the organization Asset Resolution.\nald_demo gains a column, loses a column, and has two renamed\nald_demo gains the new column lei, loses the column is_ultimate_listed_owner, and has two columns renamed:\nid_company becomes company_id.\nald_emission_factor_unit becomes emission_factor_unit.\nThe new column lei contains fake legal entity identifiers for some companies in ald_demo:\n\n\nhead(unique(ald_demo$lei))\n\n\n#> [1] \"836000XMDHWKK968EK48\" \"455700GSGBA02FV7WZ58\"\n#> [3] \"496300U7J971S488HF87\" \"722600T1N0JYQ1V4EL40\"\n#> [5] \"188800KT6I2BFPQ8LR94\" \"497300211XTQ2K7LW961\"\n\nChanges to the other columns are simply cosmetic, and meant to better reflect the actual dataset that will be delivered to users.\nSince these fields are not currently used in the downstream packages r2dii.match and r2dii.analysis, it is not expected that this should negatively affect users in a significant way.\nald_demo gains a new sector hdv\nald_demo also gains data points relating to the newly added sector Heavy-Duty Vehicle (hdv).\n\n\nhead(ald_demo[ald_demo$sector == \"hdv\", ])\n\n\n#> # A tibble: 6 x 14\n#>   company_id name_company lei        sector technology production_unit\n#>   <chr>      <chr>        <chr>      <chr>  <chr>      <chr>          \n#> 1 396        scania       890300GW0… hdv    electric   cars produced  \n#> 2 396        scania       890300GW0… hdv    electric   cars produced  \n#> 3 396        scania       890300GW0… hdv    electric   cars produced  \n#> 4 396        scania       890300GW0… hdv    electric   cars produced  \n#> 5 396        scania       890300GW0… hdv    electric   cars produced  \n#> 6 396        scania       890300GW0… hdv    electric   cars produced  \n#> # … with 8 more variables: year <int>, production <dbl>,\n#> #   emission_factor <dbl>, country_of_domicile <chr>,\n#> #   plant_location <chr>, is_ultimate_owner <lgl>,\n#> #   ald_timestamp <chr>, emission_factor_unit <chr>\n\n\n\n\n",
    "preview": {},
    "last_modified": "2021-10-18T10:01:37-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-01-21-retrospective-for-ds-incubator-meetups-in-2020/",
    "title": "The ds-incubator: Reflecting on 2020 to plan 2021",
    "description": "Responding to a group retrospective",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2021-01-21",
    "categories": [
      "ds-incubator",
      "community"
    ],
    "contents": "\n\nContents\nDecisions\nTrade-offs\nConclusion\nDiscussion\n\nThe first ds-incubator meetup of 2021 was a retrospective. I consulted 2DII folks on (a) what went well, (b) what didn’t go so well, and (c) how can the ds-incubator improve. I also asked if the ds-incubator had any effect in the way we now work at 2DII. Based on that feedback, here I present and discuss the decisions I made.\nDecisions\nNominate a timekeeper to help end on time.\nUse “round of voices” to encourage a critical discussion and practice dialogue1.\nAlthough stand-alone meetups are welcome, prefer meetup-series. This makes it easy for the leader to prepare and for attendees to follow. Regarding meetup-series:\nVote to choose the topic.\nDevelop a syllabus.\nStart each meetup reminding the syllabus and requirements (maybe none).\n\nDeprecate the use of labels “must-have” and “nice-to-have”. The practices project is a better alternative.\nDesign content as a demo rather than an interactive workshop.\nArticulate the relevance for the intended audience. Thrive to give concrete examples for 2DII.\nArticulate what the audience can do to learn more, e.g. where to find materials to reproduce the contents of the lesson.\nTrade-offs\nSchedule. Do not change the time/day for now. While it’d be great to move the meetup to avoid meetings back-to-back, I fear losing frequent attendees.\nDemos versus interactive-tutorials. There is good evidence showing that people learn better by doing something than by seeing someone else do something; yet, I trade the benefit of interactive lessons for the benefit of demos: covering more material in the same amount of time. This seems particularly appropriate given that the audience does not directly choose the meetup topic, and thus some topics they may only want to “hear about”. If they are indeed motivated, the demo should guide them to learn more.\nInteractive workshop. A longer workshop is an idea I like and developed (e.g. tidy-ds), but I think it complements rather than replace the ds-incubator. Workshops take a long time to prepare so they are a slower way to respond to “the challenge at hand” that we experience at 2DII.\nRelevance. It’s hard to develop an example that is realistic yet simple enough to not burry general concepts in specific details. Another challenge is that the intended audience is not just 2DII but also beyond. The broader relevance should make the content more appealing to you and me – to you because it’s a skill you can transfer elsewhere, and to me because content that helps folks outside 2DII allows me to give back to the R community what I learned from it.\nConclusion\nMeta. The retrospective helped me make informed decisions.\nStructure. Meetups could benefit from a bit more structure, and guide from the meetup template.\nRelevance. The effect of the ds-incubator seems to be not great on its own but important in adding to the compound effect of multiple efforts – of which the ds-incubator is only one.\nDiscussion\nThe retrospective finished with two round of voices: The first one to comment on what’s written above, and the second one to suggest meetup topics for 2021 – which I followed up with a poll on Slack.\n\nDialogue here is used as described in Crucial Conversations, where the pool of meaning expands when everyone shares their opinion, rather than keeping silent or getting violent.↩︎\n",
    "preview": "posts/2021-01-21-retrospective-for-ds-incubator-meetups-in-2020/preview.jpg",
    "last_modified": "2021-10-18T10:01:37-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-12-07-r2dii-analysis-0-1-3-is-now-on-cran/",
    "title": "r2dii.data 0.1.6, r2dii.match 0.0.7 and r2dii.analysis 0.1.3 are now on CRAN",
    "description": "Squashing bugs before the holidays.",
    "author": [
      {
        "name": "Jackson Hoffart",
        "url": "https://github.com/jdhoffa"
      }
    ],
    "date": "2020-12-07",
    "categories": [
      "r2dii",
      "package"
    ],
    "contents": "\n\nContents\nr2dii.data 0.1.6\nr2dii.match 0.0.7\nr2dii.analysis 0.1.3\nAcknowledgements\n\nr2dii.data 0.1.6, r2dii.match 0.0.7 and r2dii.analysis 0.1.3 are now on CRAN. These releases fix a number of bugs. All changes are listed in the changelog at the website of each package (r2dii.data, r2dii.match, r2dii.analysis); this post highlights the major bugs fixes and feature additions.\nYou can update or install these packages from CRAN using:\ninstall.packages(\"r2dii.data\")\ninstall.packages(\"r2dii.match\")\ninstall.packages(\"r2dii.analysis\")\nTo use r2dii packages, you can load them into your active R session with library(). This example uses some other packages that you may also load now.\n\n\nlibrary(dplyr, warn.conflicts = FALSE)\nlibrary(ggplot2)\nlibrary(r2dii.data)\nlibrary(r2dii.match)\nlibrary(r2dii.analysis)\n\n\n\nr2dii.data 0.1.6\nMost changes to r2dii.data are with updates to the internal region and classification files. In particular, the cnb_classification dataset was added, to facilitate the sector classification of Nigerian banks:\n\n\ncnb_classification %>% \n  filter(sector == \"aviation\") # show some illustrative results for aviation\n\n\n#> # A tibble: 2 x 5\n#>   original_code              code_level  code sector   borderline\n#>   <chr>                           <dbl> <dbl> <chr>    <lgl>     \n#> 1 TRANSPORTATION AND STORAGE          1  1800 aviation TRUE      \n#> 2 AIR TRANSPORT                       2  1804 aviation FALSE\n\nThe country code for Kosovo was also updated to the correct value of xk:\n\n\nfilter(iso_codes, country == \"kosovo\")\n\n\n#> # A tibble: 1 x 2\n#>   country country_iso\n#>   <chr>   <chr>      \n#> 1 kosovo  xk\n\nr2dii.match 0.0.7\nThe only user-facing change to r2dii.match was that match_name() gained the argument ... to pass arguments to stringdist::stringsim(). Most users won’t need this feature:\n\n\nmatched <- match_name(loanbook_demo, ald_demo)\n\nmatched %>% \n  filter(score != 1) %>% \n  select(name, name_ald, score)\n\n\n#> # A tibble: 30 x 3\n#>    name                         name_ald                         score\n#>    <chr>                        <chr>                            <dbl>\n#>  1 Yuama Inc.                   ykk usa, inc.                    0.843\n#>  2 Yukon Energy Corp 1736       yukon development corp           0.813\n#>  3 Yuanbsaoshan Power Generati… aba hydropower generation co ltd 0.809\n#>  4 Yuanbsaoshan Power Generati… yiyang baoyuan power generation… 0.849\n#>  5 Bhushan Energy Ltd.          bhagwan energy ltd.              0.906\n#>  6 York Research Corporation    yorkshire windpower limited      0.810\n#>  7 York Research Corporation    yorkshire water services ltd     0.815\n#>  8 York Research Corporation    york cogeneration corporation    0.832\n#>  9 Yolo Regional District       yolo county                      0.81 \n#> 10 Yit Corporation              international finance corp       0.804\n#> # … with 20 more rows\n\nHowever, advanced users can now specify many different parameters of the different methods available to stringdist::stringsim. For example, the q parameter of the qgram method can now be tweaked directly:\n\n\nmatched_qgram <- match_name(\n  loanbook_demo,\n  ald_demo, \n  method = \"qgram\",\n  q = 1.5\n)\n\nmatched_qgram %>% \n  filter(score != 1) %>% \n  select(name, name_ald, score)\n\n\n#> # A tibble: 11 x 3\n#>    name                             name_ald                     score\n#>    <chr>                            <chr>                        <dbl>\n#>  1 Yuamen Changyuan Hydropower Co.… yiyang baoyuan power genera… 0.825\n#>  2 China Electric Power (Fujian) D… yingjiang mingyu electric p… 0.826\n#>  3 China Electric Power (Fujian) D… nanchong electric power dev… 0.855\n#>  4 Yuexi County AAAA Xingguang Ele… yingjiang mengyuan electric… 0.838\n#>  5 Yuanbsaoshan Power Generation C… aba hydropower generation c… 0.830\n#>  6 Yuanbsaoshan Power Generation C… yiyang baoyuan power genera… 0.865\n#>  7 Bhushan Energy Ltd.              bhagwan energy ltd.          0.818\n#>  8 Cementos San Juan                cimento nassau               0.852\n#>  9 Qujing Cement                    quang tri cement             0.84 \n#> 10 Naphtha Israel Petroleum Corp L… japan petroleum exploration… 0.85 \n#> 11 Kinder Morgan Inc/De             diamondback energy inc       0.838\n\nFor more details see ?stringdist::stringsim.\nr2dii.analysis 0.1.3\nThere are a few major fixes in this release of r2dii.analysis, in particular to the functions target_market_share and target_sda.\nTo explain those bugfixes, let’s calculate some more demo data frames:\n\n\nvalidated_matched <- matched %>% \n  prioritize()\n\n# loan weighted portfolio-level results\nportfolio_market_share_targets <- target_market_share(\n  validated_matched,\n  ald_demo,\n  scenario_demo_2020,\n  region_isos_demo\n)\n\n# unweighted company-level results\ncompany_market_share_targets <- target_market_share(\n  validated_matched,\n  ald_demo,\n  scenario_demo_2020,\n  region_isos_demo,\n  by_company = TRUE,\n  weight_production = FALSE\n)\n\n\n\ntarget_market_share()\ntarget_market_share outputs a data frame with the value technology_share. This value is expected to always sum to 1 when aggregated across appropriate groupings (e.g. by sector, region, metric). Before, this was true only for results at company level, but not portfolio level. Now, this is fixed and technology_share sums to 1 at both levels (at least to 10 significant digits; further digits may be off due to rounding errors):\n\n\nportfolio_sum <- portfolio_market_share_targets %>%\n  group_by(sector, metric, region, year) %>%\n  summarize(share_sum = sum(technology_share), .groups = \"drop\")\n\n# true for all, to 10 significant digits\nall(round(portfolio_sum$share_sum, 10) == 1)\n\n\n#> [1] TRUE\n\n\ncompany_sum <- company_market_share_targets %>%\n  group_by(sector, metric, region, year, name_ald) %>%\n  summarize(share_sum = sum(technology_share), .groups = \"drop\")\n\n# true for all, to 10 significant digits\nall(round(company_sum$share_sum, 10) == 1)\n\n\n#> [1] TRUE\n\ntarget_sda()\nThe function target_sda calculates a target pathway for emission_factor by computing a convergence target to the year 2050, as detailed in this article. A bug in the function was causing this target to be calculated erroneously early, to the last year present in the input ald file.\nThe convergence targets are now correctly calculated to the final year present in the input scenario:\n\n\nmatched <- tibble::tribble(\n  ~id_loan, ~loan_size_outstanding, ~loan_size_outstanding_currency, ~loan_size_credit_limit, ~loan_size_credit_limit_currency, ~id_2dii, ~level, ~score, ~sector, ~name_ald, ~sector_ald,\n  \"L1\", 1, \"EUR\", 2, \"EUR\", \"UP1\", \"ultimate_parent\", 1, \"steel\", \"company a\", \"steel\"\n)\n\n# an ALD file with values only between 2020 and 2030\nald <- tibble::tribble(\n  ~name_company, ~sector, ~technology, ~year, ~production, ~emission_factor, ~plant_location, ~is_ultimate_owner,\n  \"company a\", \"steel\", \"steel\", 2020, 1, 1.5, \"DE\", TRUE,\n  \"company a\", \"steel\", \"steel\", 2025, 1, 1.5, \"DE\", TRUE,\n  \"company a\", \"steel\", \"steel\", 2030, 1, 1.5, \"DE\", TRUE,\n  \"company b\", \"steel\", \"steel\", 2020, 1, 2.5, \"DE\", TRUE,\n  \"company b\", \"steel\", \"steel\", 2025, 1, 2.5, \"DE\", TRUE,\n  \"company b\", \"steel\", \"steel\", 2030, 1, 2.5, \"DE\", TRUE\n)\n\n# a scenario file with targets at 2050\nco2_scenario <- tibble::tribble(\n  ~scenario_source, ~scenario, ~sector, ~region, ~year, ~emission_factor, ~emission_factor_unit,\n  \"etp_2017\", \"b2ds\", \"steel\", \"global\", 2020, 2, \"tonnes of CO2 per tonne of steel\",\n  \"etp_2017\", \"b2ds\", \"steel\", \"global\", 2025, 1.9, \"tonnes of CO2 per tonne of steel\",\n  \"etp_2017\", \"b2ds\", \"steel\", \"global\", 2030, 1.8, \"tonnes of CO2 per tonne of steel\",\n  \"etp_2017\", \"b2ds\", \"steel\", \"global\", 2050, 0.25, \"tonnes of CO2 per tonne of steel\",\n)\n\n# SDA portfolio-level results\nsda_targets <- target_sda(\n  matched,\n  ald,\n  co2_scenario\n)\n\nggplot(\n  data = sda_targets,\n  mapping = aes(\n    x = year,\n    y = emission_factor_value,\n    color = emission_factor_metric\n  )\n) +\n  geom_line() +\n  facet_wrap(~sector)\n\n\n\n\nAcknowledgements\n\n\n\nWhile this release includes commits from only a few of us (jdhoffa, maurolepore), it is thanks to feedback from our colleagues and users.\n\n\n\n",
    "preview": "posts/2020-12-07-r2dii-analysis-0-1-3-is-now-on-cran/distill-preview.png",
    "last_modified": "2021-10-18T10:01:37-06:00",
    "input_file": {},
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2020-09-08-r2dii-analysis-0-1-0-is-now-on-cran/",
    "title": "r2dii.analysis 0.1.0 is now on CRAN",
    "description": "This release includes a significant rework of the `target_sda()` function, and \nseveral bugfixes.",
    "author": [
      {
        "name": "Jackson Hoffart",
        "url": "https://github.com/jdhoffa"
      }
    ],
    "date": "2020-09-08",
    "categories": [
      "r2dii",
      "package",
      "release"
    ],
    "contents": "\nTable of Contents\nAcknowledgements\nr2dii.analysis 0.1.0 is now on CRAN. r2dii.analysis provides analysis tools to help you study how financial assets align to climate scenarios.\nThis release signals that r2dii.analysis is now maturing. You can install it from CRAN with:\n\ninstall.packages(\"r2dii.analysis\")\nThen use it with:\n\n\nlibrary(r2dii.analysis)\n\nLet’s also load the rest of the r2dii suite and the package dplyr, which is not necessary but convenient.\n\n\nlibrary(r2dii.data)\nlibrary(r2dii.match)\nlibrary(dplyr)\n\nAll user-facing changes are listed in the changelog; here I’ll show the most important ones.\nWe fixed a bug in the dataset target_sda(); it now outputs targets calculated using the ald-adjusted scenarios.\n\n\nmatch_result <- loanbook_demo %>%\n  match_name(ald_demo) %>%\n  prioritize()\n\n\n\nmatch_result %>%\n  target_sda(ald_demo, co2_intensity_scenario_demo)\n#> # A tibble: 208 x 4\n#>    sector      year emission_factor_metric emission_factor_value\n#>    <chr>      <dbl> <chr>                                  <dbl>\n#>  1 automotive  2002 projected                              0.228\n#>  2 automotive  2003 projected                              0.226\n#>  3 automotive  2004 projected                              0.224\n#>  4 automotive  2005 projected                              0.222\n#>  5 automotive  2006 projected                              0.220\n#>  6 automotive  2007 projected                              0.218\n#>  7 automotive  2008 projected                              0.216\n#>  8 automotive  2009 projected                              0.214\n#>  9 automotive  2010 projected                              0.212\n#> 10 automotive  2011 projected                              0.210\n#> # … with 198 more rows\n\nWe have also added the parameter weight_production to target_market_share(). This allows you to choose between outputting production values, weighted by relative loan size (weight_production = TRUE), or to output the actual raw company production values (weight_production = FALSE).\n\n\nweighted <- TRUE\n\nmatch_result %>%\n  target_market_share(\n    ald_demo,\n    scenario_demo_2020,\n    region_isos_demo,\n    weight_production = weighted\n  ) %>%\n  filter(metric == \"projected\")\n#> # A tibble: 234 x 8\n#>    sector technology  year region scenario_source metric production\n#>    <chr>  <chr>      <int> <chr>  <chr>           <chr>       <dbl>\n#>  1 autom… electric    2020 global demo_2020       proje…    145942.\n#>  2 autom… electric    2021 global demo_2020       proje…    148212.\n#>  3 autom… electric    2022 global demo_2020       proje…    150481.\n#>  4 autom… electric    2023 global demo_2020       proje…    152751.\n#>  5 autom… electric    2024 global demo_2020       proje…    155020.\n#>  6 autom… electric    2025 global demo_2020       proje…    157289.\n#>  7 autom… electric    2026 global demo_2020       proje…    159559.\n#>  8 autom… hybrid      2020 global demo_2020       proje…    141768.\n#>  9 autom… hybrid      2021 global demo_2020       proje…    138687.\n#> 10 autom… hybrid      2022 global demo_2020       proje…    135606.\n#> # … with 224 more rows, and 1 more variable: technology_share <dbl>\n\n\n\nraw <- FALSE\n\nmatch_result %>%\n  target_market_share(\n    ald_demo,\n    scenario_demo_2020,\n    region_isos_demo,\n    weight_production = raw\n  ) %>%\n  filter(metric == \"projected\")\n#> # A tibble: 234 x 8\n#>    sector technology  year region scenario_source metric production\n#>    <chr>  <chr>      <int> <chr>  <chr>           <chr>       <dbl>\n#>  1 autom… electric    2020 global demo_2020       proje…   6630404.\n#>  2 autom… electric    2021 global demo_2020       proje…   6731628.\n#>  3 autom… electric    2022 global demo_2020       proje…   6832852.\n#>  4 autom… electric    2023 global demo_2020       proje…   6934075.\n#>  5 autom… electric    2024 global demo_2020       proje…   7035299.\n#>  6 autom… electric    2025 global demo_2020       proje…   7136523.\n#>  7 autom… electric    2026 global demo_2020       proje…   7237746.\n#>  8 autom… hybrid      2020 global demo_2020       proje…   7009476.\n#>  9 autom… hybrid      2021 global demo_2020       proje…   6883774.\n#> 10 autom… hybrid      2022 global demo_2020       proje…   6758072.\n#> # … with 224 more rows, and 1 more variable: technology_share <dbl>\n\nAcknowledgements\n\n\n\nWhile this release includes commits from only a few of us (jdhoffa, maurolepore), it is thanks to ideas and feedback from many more colleagues at 2DII – particularly George Harris.\n\n\n",
    "preview": "posts/2020-09-08-r2dii-analysis-0-1-0-is-now-on-cran/preview.jpg",
    "last_modified": "2021-10-18T10:01:37-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-08-14-r2dii-data-0-1-2-and-r2dii-match-0-0-4-are-now-on-cran/",
    "title": "r2dii.data 0.1.2 and r2dii.match 0.0.4 are now on CRAN",
    "description": "Less bugs and more features",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2020-08-14",
    "categories": [
      "r2dii",
      "software development",
      "release"
    ],
    "contents": "\nTable of Contents\nr2dii.data 0.1.2\nr2dii.match 0.0.4\nAcknowledgements\nr2dii.data 0.1.2 and r2dii.match 0.0.4 are now on CRAN. These packages provide datasets and tools to align financial markets to climate goals. These releases fix a number of bugs that you can learn about here and here; this post shows enhancements and new features.\nYou can install r2dii.data and r2dii.match from CRAN with:\n\ninstall.packages(\"r2dii.data\")\ninstall.packages(\"r2dii.match\")\nThen use them with:\n\n\nlibrary(r2dii.data)\nlibrary(r2dii.match)\n\nr2dii.data 0.1.2\nr2dii.data 0.1.2 includes two new dataset – green_or_brown, and sic_classification (thanks to Daisy Pacheco and George Harris).\n\n\ngreen_or_brown\n#> # A tibble: 16 x 3\n#>    sector       technology    green_or_brown\n#>    <chr>        <chr>         <chr>         \n#>  1 automotive   electric      green         \n#>  2 automotive   hybrid        green         \n#>  3 automotive   ice           brown         \n#>  4 automotive   fuelcell      green         \n#>  5 power        hydrocap      green         \n#>  6 power        renewablescap green         \n#>  7 power        coalcap       brown         \n#>  8 power        gascap        brown         \n#>  9 power        oilcap        brown         \n#> 10 power        nuclearcap    green         \n#> 11 oil and gas  oil           brown         \n#> 12 oil and gas  gas           brown         \n#> 13 coal         coal          brown         \n#> 14 fossil fuels oil           brown         \n#> 15 fossil fuels gas           brown         \n#> 16 fossil fuels coal          brown\n\nsic_classification\n#> # A tibble: 256 x 4\n#>    code  description                              sector    borderline\n#>    <chr> <chr>                                    <chr>     <lgl>     \n#>  1 0     private households, exterritorial organ… not in s… FALSE     \n#>  2 00000 private households, exterritorial organ… not in s… FALSE     \n#>  3 11110 growing of cereals and other crops n.e.… not in s… FALSE     \n#>  4 11130 growing of fruit, nuts, beverage and sp… not in s… FALSE     \n#>  5 11210 farming  of cattle, sheep, goats, horse… not in s… FALSE     \n#>  6 11300 growing of crops combined with farming … not in s… FALSE     \n#>  7 12100 forestry and related services            not in s… FALSE     \n#>  8 12200 logging and related services             not in s… FALSE     \n#>  9 13100 ocean and coastal fishing                not in s… FALSE     \n#> 10 21000 mining of coal and lignite               coal      FALSE     \n#> # … with 246 more rows\n\nAlso, region_isos gained data from ETP 2017, and ald_demo dropped the column number_of_assets (thanks to Taylor Posey).\n\n\nunique(region_isos$source)\n#> [1] \"weo_2019\" \"etp_2017\"\n\nany(grepl(\"number_of_assets\", names(ald_demo)))\n#> [1] FALSE\n\nr2dii.match 0.0.4\nmatch_name() now outputs a new column – borderline. This column helps you measure how much of your loanbook matched some asset; see the new article Calculating matching coverage.\n\n\nloanbook <- loanbook_demo\nald <- ald_demo\n\nmatched <- match_name(loanbook, ald)\ntail(names(matched))\n#> [1] \"sector_ald\" \"name\"       \"name_ald\"   \"score\"      \"source\"    \n#> [6] \"borderline\"\n\nAlso, match_name() now runs faster and uses less memory. This responds to users’s feedback, diligently managed by George Harris – thanks! If you still run out of memory, read Using match_name() with large loanbooks: How to resolve memory issues and Improving r2dii.match: How to work with big data, and benchmarks of a more efficient version of match_name(). You may also want to reduce the size of your data: use the new function crucial_lbk() to select the minimum columns you need for match_name().\n\n\nncol(loanbook)\n#> [1] 19\n\ncrucial_lbk()\n#> [1] \"id_ultimate_parent\"                    \n#> [2] \"name_ultimate_parent\"                  \n#> [3] \"id_direct_loantaker\"                   \n#> [4] \"name_direct_loantaker\"                 \n#> [5] \"sector_classification_system\"          \n#> [6] \"sector_classification_direct_loantaker\"\n\nsmaller_loanbook <- loanbook[crucial_lbk()]\nncol(smaller_loanbook)\n#> [1] 6\n\nmatch_name(smaller_loanbook, ald)\n#> # A tibble: 497 x 15\n#>    id_ultimate_par… name_ultimate_p… id_direct_loant… name_direct_loa…\n#>    <chr>            <chr>            <chr>            <chr>           \n#>  1 UP15             Alpine Knits In… C294             Yuamen Xinneng …\n#>  2 UP288            University Of I… C292             Yuama Ethanol L…\n#>  3 UP104            Garland Power &… C305             Yukon Energy Co…\n#>  4 UP104            Garland Power &… C305             Yukon Energy Co…\n#>  5 UP83             Earthpower Tech… C304             Yukon Developme…\n#>  6 UP83             Earthpower Tech… C304             Yukon Developme…\n#>  7 UP163            Kraftwerk Mehru… C303             Yueyang City Co…\n#>  8 UP138            Jai Bharat Gum … C301             Yuedxiu Corp One\n#>  9 UP32             Bhagwan Energy … C302             Yuexi County AA…\n#> 10 UP81             Dynegy Midwest … C309             Yuxi ounty Liua…\n#> # … with 487 more rows, and 11 more variables:\n#> #   sector_classification_system <chr>,\n#> #   sector_classification_direct_loantaker <dbl>, id_2dii <chr>,\n#> #   level <chr>, sector <chr>, sector_ald <chr>, name <chr>,\n#> #   name_ald <chr>, score <dbl>, source <chr>, borderline <lgl>\n\nAcknowledgements\n\n\n\nWhile this release includes commits from only a few of us (jdhoffa, maurolepore), it is thanks to feedback from our colleagues and users.\n\n\n",
    "preview": "posts/2020-08-14-r2dii-data-0-1-2-and-r2dii-match-0-0-4-are-now-on-cran/preview.jpg",
    "last_modified": "2021-10-18T10:01:37-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-07-31-chunk-your-data/",
    "title": "Using `match_name()` with large loanbooks",
    "description": "How to resolve memory issues",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2020-07-31",
    "categories": [
      "r2dii",
      "programming",
      "favorites"
    ],
    "contents": "\nUsers of the r2dii.match package reported that their R session crashed when they fed match_name() with big data. A recent post acknowledged the issue and promised examples on how to handle big data. This article shows one approach: feed match_name() with a sequence of small chunks of the loanbook dataset.\nSetup\nThis example uses r2dii.match plus a few optional but convenient packages, including r2dii.data for example datasets.\n\n\n# Packages\nlibrary(dplyr, warn.conflicts = FALSE)\nlibrary(fs)\nlibrary(vroom)\nlibrary(r2dii.data)\nlibrary(r2dii.match)\n\n# Example datasets from the r2dii.data package\nloanbook <- loanbook_demo\nald <- ald_demo\n\nIf the entire loanbook is too large, feed match_name() with smaller chunks, so that any call to match_name(this_chunk, ald) fits in memory. More chunks take longer to run but use less memory; you’ll need to experiment to find the number of chunks that best works for you.\nSay you try three chunks. You can take the loanbook dataset and then use mutate() to add the new column chunk, which assigns each row to one of the chunks:\n\n\nchunks <- 3\nchunked <- loanbook %>% mutate(chunk = as.integer(cut(row_number(), chunks)))\n\nThe total number of rows in the entire loanbook equals the sum of the rows across chunks.\n\n\ncount(loanbook)\n#> # A tibble: 1 x 1\n#>       n\n#>   <int>\n#> 1   320\n\ncount(chunked, chunk)\n#> # A tibble: 3 x 2\n#>   chunk     n\n#>   <int> <int>\n#> 1     1   107\n#> 2     2   106\n#> 3     3   107\n\nFor each chunk you need to repeat this process:\nMatch this chunk against the entire ald dataset.\nIf this chunk matched nothing, move to the next chunk.\nElse, save the result to a .csv file.\n\n\n# This \"output\" directory is temporary; you may use any folder in your computer\nout <- path(tempdir(), \"output\")\nif (!dir_exists(out)) dir_create(out)\n\nfor (i in unique(chunked$chunk)) {\n  # 1. Match this chunk against the entire `ald` dataset.\n  this_chunk <- filter(chunked, chunk == i)\n  this_result <- match_name(this_chunk, ald)\n  \n  # 2. If this chunk matched nothing, move to the next chunk\n  matched_nothing <- nrow(this_result) == 0L\n  if (matched_nothing) next()\n  \n  # 3. Else, save the result to a .csv file.\n  vroom_write(this_result, path(out, paste0(i, \".csv\")))\n}\n\nThe result is one .csv file per chunk.\n\n\ndir_ls(out)\n#> /tmp/Rtmp2sVXnU/output/1.csv /tmp/Rtmp2sVXnU/output/2.csv \n#> /tmp/Rtmp2sVXnU/output/3.csv\n\nYou can read and combine all files in one step with vroom().\n\n\nmatched <- vroom(dir_ls(out))\nmatched\n#> # A tibble: 502 x 29\n#>    rowid id_loan id_direct_loant… name_direct_loa… id_intermediate…\n#>    <dbl> <chr>   <chr>            <chr>            <chr>           \n#>  1     1 L1      C294             Yuamen Xinneng … <NA>            \n#>  2     3 L3      C292             Yuama Ethanol L… IP5             \n#>  3     3 L3      C292             Yuama Ethanol L… IP5             \n#>  4     5 L5      C305             Yukon Energy Co… <NA>            \n#>  5     5 L5      C305             Yukon Energy Co… <NA>            \n#>  6     6 L6      C304             Yukon Developme… <NA>            \n#>  7     6 L6      C304             Yukon Developme… <NA>            \n#>  8     8 L8      C303             Yueyang City Co… <NA>            \n#>  9     9 L9      C301             Yuedxiu Corp One IP10            \n#> 10    10 L10     C302             Yuexi County AA… <NA>            \n#> # … with 492 more rows, and 24 more variables:\n#> #   name_intermediate_parent_1 <chr>, id_ultimate_parent <chr>,\n#> #   name_ultimate_parent <chr>, loan_size_outstanding <dbl>,\n#> #   loan_size_outstanding_currency <chr>,\n#> #   loan_size_credit_limit <dbl>,\n#> #   loan_size_credit_limit_currency <chr>,\n#> #   sector_classification_system <chr>,\n#> #   sector_classification_input_type <chr>,\n#> #   sector_classification_direct_loantaker <dbl>, fi_type <chr>,\n#> #   flag_project_finance_loan <chr>, name_project <lgl>,\n#> #   lei_direct_loantaker <lgl>, isin_direct_loantaker <lgl>,\n#> #   chunk <dbl>, id_2dii <chr>, level <chr>, sector <chr>,\n#> #   sector_ald <chr>, name <chr>, name_ald <chr>, score <dbl>,\n#> #   source <chr>\n\nThe matched result should be similar to that of match_name(loanbook, ald). Your next steps are documented on the website of r2dii.match.\nAnecdote\nI tested match_name() with datasets which size (on disk as a .csv file) was 20MB for the loanbook dataset and 100MB for the ald dataset. Feeding match_name() with the entire loanbook crashed my R session. But feeding it with a sequence of 30 chunks run in about 25’ – successfully; the combined result had over 10 million rows:\n\nsector                       data\n---------------------------------\n1 automotive     [2,644,628 × 15]\n2 aviation         [377,200 × 15]\n3 cement           [942,526 × 15]\n4 oil and gas    [1,551,805 × 15]\n5 power          [7,353,772 × 15]\n6 shipping       [4,194,067 × 15]\n7 steel                 [15 × 15]\n\n\n",
    "preview": "posts/2020-07-31-chunk-your-data/preview.jpg",
    "last_modified": "2021-10-18T10:01:37-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-07-28-what-and-how-to-submit-your-post/",
    "title": "Publish your post here",
    "description": "Details on what and how to submit a new blog post",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2020-07-28",
    "categories": [
      "meta",
      "ds-incubator"
    ],
    "contents": "\nThe first post on this blog encouraged you to submit your own posts; but the advice was vague about what to submit or how. This post makes the advice concrete.\nWhat to submit\nEach published article needs only two things:\nA title, e.g. “Publish your post here”.\nA body, i.e. the contents of your post.\nAnd it is nice to have a few optional things:\nA description, e.g. “Details on what and how to submit a new blog post”.\nA link to your website, e.g. https://github.com/maurolepore.\nAn image that is licensed to share publicly, e.g. from https://www.pexels.com/creative-commons-images/.\nOne or more categories to help readers filter similar posts, e.g. “meta”.\nMost of this is just plain text, which is easy to submit for publication in a number of ways.\nHow to submit\nThe priority is to publish your content; how you do it is unimportant – you may submit it however you like. For example, here are some ways:\nSlack: Send me or Jackson a file via Slack with your text or a link to it (e.g. a link to a Google Doc).\nGitHub: On GitHub, create a new file and paste your text in it.\n\nGitHub will automatically fork the blog’s repo into your user account and guide you to create a pull request.\n\nRStudio: Fork the blog’s repo; create a new RStudio project from your fork; create a new post with distill::create_post(); commit your changes; push your commits to your fork; submit a pull request to the blog.\ndistill::create_post() gives you a template you can then modify. For consistency across posts, we recommend you change the template’s yaml header and setup chunk to follow this examples:\nYAML header\n\n---\ntitle: \"Publish your post here\"\ndescription: |\n  Details on what and how to submit a new blog post\nauthor:\n  - name: Mauro Lepore\n    url: https://github.com/maurolepore\ndate: 07-28-2020\noutput: \n  distill::distill_article:\n  toc: true\n  self_contained: true\ncategories:\n  - meta\n  - ds-incubator\npreview: preview.jpg\ntwitter:\n  site: \"@mauro_lepore\"\n  creator: \"@mauro_lepore\"\n---\nSetup chunk\n\nknitr::opts_chunk$set(\n  collapse = TRUE,\n  comment = \"#>\"\n)\n–\nAs far as the world can tell, your work or ideas do not exist unless they are published somewhere. Get stuff out. The technical details don’t matter (we’ll help you with that); what matters is your idea – share it early, share it often.\n\n\n",
    "preview": "posts/2020-07-28-what-and-how-to-submit-your-post/preview.jpg",
    "last_modified": "2021-10-18T08:03:47-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-07-27-config-project-settings/",
    "title": "PACTA_analysis - New config file: project_settings",
    "description": "This post outlines the changes of the workflow in the PACTA_analysis repository. Everyone who works with this repository is encouraged to read this.",
    "author": [
      {
        "name": "Jacob Kastl",
        "url": "https://github.com/jacobvjk"
      }
    ],
    "date": "2020-07-27",
    "categories": [
      "programming",
      "PACTA_analysis"
    ],
    "contents": "\nTarget Audience\nEveryone who uses the PACTA_analysis script for their projects.\nWhat changed\nThe workflow for initializing a project has changed. A new required config file must be used and was added to the repo.\nSpecifics\nProject wide settings should be set in the file “project_settings.yml”, prior to project initialization:\n\n    project_name: name_of_the_project_folder\nPlease define project_name. The project name is relevant for input, output and naming of data files.\n\n    project_internal:\n      twodii_internal: FALSE\nEnsure that the variable twodii_internal is set FALSE. Value should only be set to TRUE for 2DII internal staff.\n\n  project_internal:\n    ...\n    project_location_ext: ~/path/to/project\nPlease define project_location_ext by copying the full path to the folder, in which you want to store data (including the results) related to this particular evaluation. During the run of the code, the a project folder with several sub-folders will be created here.\nPlease consider:\ncopying in a path from windows requires to change all “\\” to “/” (e.g. \"C:/Users/Desktop/project_folder/).\npath needs to be a string (“…”).\n\n\n  project_internal:\n    ...\n    data_location_ext: ~/path/to/data\nPlease define data_location_ext by copying the full path to the folder, in which you stored the data files (set of rda files) provided by Asset Resolution or the 2DII.\nPlease consider:\ncopying in a path from windows requires to change all “\\” to “/”.\npath needs to be a string (“…”).\n\nIf you have any other questions regarding how this affects your workflow, please consult the README.Rmd file in the PACTA_analysis portfolio https://github.com/2DegreesInvesting/PACTA_analysis or contact me (Jacob), Jackson or Clare.\n\n\n",
    "preview": "posts/2020-07-27-config-project-settings/preview.jpg",
    "last_modified": "2021-10-18T08:03:47-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-07-25-gh-flow/",
    "title": "GitHub flow",
    "description": "Submit pull requests from any branch -- except master",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2020-07-25",
    "categories": [
      "workflow",
      "community"
    ],
    "contents": "\nIf your team uses the GitHub flow, you should submit your pull requests from any branch – except master. The reasons are not immediately obvious. This post explains why violating the GitHub flow sometimes gives you no trouble, while other times it leaves you a mess.\nSay you want to contribute to a project – let’s call it upstream. You don’t own upstream, so you can’t push commits to upstream/master, the branch master of the project upstream. That’s okay: you can still submit a pull request from your fork of upstream – let’s call it origin.\nAs you do own origin, can you push commits to origin/master then submit a pull request into upstream/master? Yes, you “can”; but that is a bad idea.\nConsider this example. After you forked upstream, you add two commits to origin/master and submit your first pull request into upstream/master. This goes smoothly.\nBut soon the history of origin and upstream start to diverge – and you may not even notice. The maintainer squashed your two commits into a new, single commit that tells the story of your pull request more succinctly. The Git history of both repos – origin and upstream – is already different. And it gets worse: Other people’s pull-requests are also merged into upstream/master, and it now has changes that your origin/master lacks.\nYour second pull request exposes the problem. You add a new commit to origin/master and submit another pull request into upstream/master. Now you’ve got a mess: Although they had been merged, the commits you submitted before still show up in this second pull request; and the commits you lack cause merge conflicts with your new commits on this pull request.\nAvoid the mess. Just remember to submit your pull requests from any branch – except master. For R users it gets better: the pull-request helpers from the usethis package implement the GitHub flow automatically. Too often to “just remember” doesn’t work. Instead it’s best to use systems that automatically enforce the behaviour you want to display. Why not automate repetitive tasks like pull requests?\n\n\n",
    "preview": "posts/2020-07-25-gh-flow/preview.jpg",
    "last_modified": "2022-01-18T10:52:58-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-07-24-when-scenarios-and-reality-diverge/",
    "title": "When Scenarios and Reality Diverge",
    "description": "A deep dive into IEA scenarios.",
    "author": [
      {
        "name": "Vincent Jerosch-Herold",
        "url": "https://github.com/vintented"
      }
    ],
    "date": "2020-07-24",
    "categories": [
      "other",
      "scenarios"
    ],
    "contents": "\nTable of Contents\nContext\nData preperation\nData comparison\nConclusions\nContext\nA scenario lays-out an ‘evolution’ of the world. In financial markets this evolution reflects current and future capital flows within and across sectors as high-carbon technologies are replaced with low-carbon. Scenario analysis is simply the process of scaling and allocating scenario macro changes to the micro — the economic activities linked to financial portfolios. The scenario alignment of a portfolio is simply the divergence overtime between the portfolio’s baseline (e.g. the portfolio’s \\(CO_2\\) intensity over the analysis time-horizon) and the scaled ambition of the scenario (see Figure 1).\n\n\n\nThe scaled trajectory of a scenario suggests that a portfolio is consistent with a scenario when the evolution of the indicator (e.g. \\(CO_2\\) intensity) is consistent with what the scenario prescribes. What this entails in practice is from the portfolio’s current baseline (e.g. \\(CO_2\\) intensity in 2020), indexing the scenario changes from that baseline over the entire scenario’s time horizon. This ensures the differing scopes of the scenario (i.e. macro-economy model) and portfolio (i.e. a specific subset of macro-economic activities) can be bridged by ensuring equal ambition regardless of scope. However, a portfolio’s current baseline is not always consistent with the evolution of a scenario — the International Energy Agency’s (IEA) Energy Technology Perspective (ETP) illustrates this point apptly.(IEA 2017)\nETP 2017 roadmaps a global energy transition that begins in 2014 along three scenario sets, RTS (Reference Technology Scenario), SDS (Sustainable Development Scenario), and B2DS (Beyond 2 Degrees Scenario) (in order of ambition).(IEA 2017) Each scenario proscribes a set of socioeconomic developments informed by the varying potential of low-carbon technologies to reduce emissions across sectors. These reductions are mapped in terms of the shift from high to low-carbon technologies in units of production or capacity (e.g. TWh, tonnes of steel, etc.).\nHowever, if the current state of the world is any indication, a global, cross-sector energy transition has yet take place.(IPCC 2018) To illustrate this point, the IEA assumes that in 2020 the direct \\(CO_2\\) intensity of global steel production has declined by ~20% under ETP’s B2DS.(IEA 2017) In reality, the global \\(CO_2\\) intensity of steel production from 2014 to 2020 has not significantly deviated from \\(1.85 \\ kg \\ CO_2 \\ per \\ kg \\ steel\\).(World Steel Association 2019) In effect, The evolution of the scenario and the macro-economy differ, and the longer global emissions continue to rise, the greater the disconnect. And this temporal and evolutionary disconnect between the portfolio (a subset of macro-economic activities) and scenario has implications on the scaled scenario ambition assigned to the portfolio.\nData preperation\nThe input data is simply the CO2 intensity for Cement (scope 1 & 2), Steel (scope 1 & 2), and Aviation (scope 1) from ETP 2017.(IEA 2017)\n\n\n# packages\nlibrary(gt)\nlibrary(tidyverse)\n# themes \nsource(\"ggplot_themes.R\")\n# data\netp2017_sda_targets <- readr::read_csv(\"sda_scenario_targets.csv\")\netp2017_sda_targets_interprolated <- readr::read_csv(\"sda_scenario_targets_interpolated.csv\")\n# functions\nindex_market_to_scenario <- function(\n  scenario,\n  aviation_intensity = 87.9,\n  steel_intensity = 1.8, \n  cement_intensity = 0.6\n) {\n  year_seq <- unique(scenario$year)\n  lagged_scenario <- map(\n    2:length(year_seq),\n    function(i) {\n      scenario %>% \n        select(\n          scenario, \n          sector, \n          year, \n          emission_factor\n        ) %>% \n        group_by(\n          scenario, \n          sector\n        ) %>% \n        mutate(\n          index = ifelse(!year %in% year_seq[1:(i-1)], emission_factor, NA_integer_) / sum(ifelse(year == year_seq[i], emission_factor, 0)),\n          emission_factor_ald = case_when(\n            sector == \"aviation\" ~ aviation_intensity * index, \n            sector == \"steel\" ~ steel_intensity * index, \n            sector == \"cement\" ~ cement_intensity * index\n          ),\n          lag = paste(\"Lag\", (i-1))\n        ) %>% \n        filter(!is.na(index)) %>% \n        rename(emission_factor_scenario = emission_factor) %>% \n        ungroup()\n    }\n  )\n  # bind lags together \n  lagged_scenario %>% \n    bind_rows()\n}\nadd_nice_names <- function(data) {\n  data %>% \n    mutate(\n      scenario = toupper(scenario), \n      sector = stringr::str_to_title(sector)\n    )\n}\n\n\n\ntable_data <- etp2017_sda_targets %>% \n  add_nice_names() %>% \n  group_by(\n    sector, \n    emission_factor_unit\n  ) %>% \n  summarise(\n    Min = min(emission_factor), \n    Max = max(emission_factor)\n  ) %>%\n  ungroup()\n\ntable_data %>% \n  rename(\n    Sector = sector, \n    Unit = emission_factor_unit\n  ) %>% \n  gt() %>% \n  theme_2dii_gt() %>% \n  tab_header(\n    title = \"Table 1: A brief overview of units\",\n    subtitle = \"CO2 intensity\"\n  )\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#qfysgmfoos .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #1b324f;\n  font-size: 12px;\n  background-color: white;\n  width: 90%;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: white;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#qfysgmfoos .gt_heading {\n  background-color: white;\n  text-align: center;\n  border-bottom-color: white;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: white;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: white;\n}\n\n#qfysgmfoos .gt_title {\n  color: #1b324f;\n  font-size: 20px;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  border-bottom-color: white;\n  border-bottom-width: 0;\n}\n\n#qfysgmfoos .gt_subtitle {\n  color: #1b324f;\n  font-size: 14px;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 4px;\n  border-top-color: white;\n  border-top-width: 0;\n}\n\n#qfysgmfoos .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #1b324f;\n}\n\n#qfysgmfoos .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: white;\n  border-bottom-style: solid;\n  border-bottom-width: 5px;\n  border-bottom-color: #1b324f;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: white;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: white;\n}\n\n#qfysgmfoos .gt_col_heading {\n  color: #1b324f;\n  background-color: white;\n  font-size: 15.5px;\n  font-weight: bold;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#qfysgmfoos .gt_column_spanner_outer {\n  color: #1b324f;\n  background-color: white;\n  font-size: 15.5px;\n  font-weight: bold;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#qfysgmfoos .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#qfysgmfoos .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#qfysgmfoos .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 5px;\n  border-bottom-color: #1b324f;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#qfysgmfoos .gt_group_heading {\n  padding: 8px;\n  color: #1b324f;\n  background-color: white;\n  font-size: 14px;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #1b324f;\n  border-bottom-style: solid;\n  border-bottom-width: 3px;\n  border-bottom-color: #1b324f;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#qfysgmfoos .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #1b324f;\n  background-color: white;\n  font-size: 14px;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #1b324f;\n  border-bottom-style: solid;\n  border-bottom-width: 3px;\n  border-bottom-color: #1b324f;\n  vertical-align: middle;\n}\n\n#qfysgmfoos .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#qfysgmfoos .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#qfysgmfoos .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#qfysgmfoos .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #1b324f;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #1b324f;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #1b324f;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#qfysgmfoos .gt_stub {\n  color: #1b324f;\n  background-color: white;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 12px;\n}\n\n#qfysgmfoos .gt_summary_row {\n  color: #1b324f;\n  background-color: white;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qfysgmfoos .gt_first_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n}\n\n#qfysgmfoos .gt_grand_summary_row {\n  color: #1b324f;\n  background-color: white;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qfysgmfoos .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#qfysgmfoos .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: white;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #1b324f;\n}\n\n#qfysgmfoos .gt_footnotes {\n  color: #1b324f;\n  background-color: white;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qfysgmfoos .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding: 4px;\n}\n\n#qfysgmfoos .gt_sourcenotes {\n  color: #1b324f;\n  background-color: white;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qfysgmfoos .gt_sourcenote {\n  font-size: 90%;\n  padding: 4px;\n}\n\n#qfysgmfoos .gt_left {\n  text-align: left;\n}\n\n#qfysgmfoos .gt_center {\n  text-align: center;\n}\n\n#qfysgmfoos .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#qfysgmfoos .gt_font_normal {\n  font-weight: normal;\n}\n\n#qfysgmfoos .gt_font_bold {\n  font-weight: bold;\n}\n\n#qfysgmfoos .gt_font_italic {\n  font-style: italic;\n}\n\n#qfysgmfoos .gt_super {\n  font-size: 65%;\n}\n\n#qfysgmfoos .gt_footnote_marks {\n  font-style: italic;\n  font-size: 65%;\n}\nTable 1: A brief overview of units\n    CO2 intensity\n    Sector\n      Unit\n      Min\n      Max\n    Aviation\n      grams CO2 (scope 1) per passenger-km\n      12.02445334\n      122.5599610\n    Cement\n      tonnes CO2 (scope 1 & 2) per tonne cement\n      0.09386214\n      0.5959728\n    Steel\n      tonnes CO2 (scope 1 & 2) per tonne crude steel\n      0.08728846\n      1.8990379\n    \n\n\nScope 2 emissions are calculated using the average emissions intensity of global power generation and electricity energy demand from the Steel and Cement sectors. For Aviation, only the emissions from the combustion of Jet-fuel (scope 1) are considered.\nE.g. Steel scope 2 emissions: \\[ Power \\ Emissions \\ _{CO_2 \\ Mt} = \\frac{Electricity \\ Demand \\ _{PJ}} {3600} \\ *  Power \\ Emissions \\ Intensity \\ _{\\frac{CO_2 \\ {Mt}} {MWh}}\\]\nWith the electricy energy demand and electricity CO2 intensity, the scope 2 emissions intensity per unit of output (e.g. tonnes of Steel) can be calculated. Scope 1 emissions are calculated by dividing direct CO2 emissions per unit of product.\nE.g. Steel CO2 intensity: \\[ Emissions \\ Intensity \\ _{\\frac{CO_2 \\ {Mt}} {Crude \\ Steel \\ Mt }} = \\sum {\\frac{Direct \\ Emissions \\ _{CO_2 \\  Mt}} {Production \\ _{Crude \\ Steel \\ Mt}}} \\]\nData comparison\nPerhaps it nice to begin by simply comparing the \\(CO_2\\) intensity across scenarios and sectors. Figure 2 illustrates the previously mentioned difference in terms of ambition across the three ETP scenario sets with the B2DS following the most ambitious emissions intensity reduction path and the RTS following the least ambitious path.(IEA 2017)\n\n\netp2017_sda_targets %>% \n  add_nice_names() %>% \n  ggplot(aes(x = year, y = emission_factor, color = scenario, group = scenario)) +\n  geom_line() + \n  labs(x = \"Year\", y = \"\", title = \"Figure 2: Scenario CO2 intensity by sector\") + \n  scale_color_manual(values = c(primary_green, primary_orange, primary_blue)) + \n  facet_grid(\n    rows = vars(sector), \n    switch = 'y',\n    scales = \"free_y\", \n    labeller = as_labeller(c(Steel = \"t CO2 per t steel\", Cement = \"t CO2 per t cement\", Aviation = \"g CO2 per PKM\"))\n  ) + \n  theme_2dii_ggplot() + \n  theme(strip.placement = 'outside')\n\n\nTo compare apples to apples Figure 3 illustrates the difference across scenarios and sectors indexed to the base year 2014.\n\n\n# calculate index \nchart_data <- etp2017_sda_targets %>% \n  group_by(\n    scenario, \n    sector\n  ) %>% \n  mutate(index = 100 * (emission_factor / sum(ifelse(year == min(year), emission_factor, 0)))) %>% \n  ungroup()\n# plot data \nchart_data %>% \n  add_nice_names() %>% \n  ggplot(aes(x = year, y = index, color = scenario, group = scenario)) +\n  geom_line() + \n  labs(x = \"Year\", y = \"Indexed CO2 intensity\", title = \"Figure 3: Indexed scenario CO2 intensity by sector\") + \n  scale_color_manual(values = c(primary_green, primary_orange, primary_blue)) + \n  facet_grid(rows = vars(sector), scales = \"free_y\") + \n  theme_2dii_ggplot()\n\n\nHaving compared how the \\(CO_2\\) intensity evolves over the scenario’s time horizon, it is perhaps of interest to understand the distribution of these cumulative changes. Figure 4 shows the annual rate of change in \\(CO_2\\) intensity as a percent of the total change in \\(CO_2\\) intensity over the scenario’s time horizon. Depending on the scenario’s ambition and the sector, these emissions intensity reductions vary in distribution. Both B2DS and SDS follow relatively similar distributions with the rate change following a comparable trajectory until mid-century when the curve flattens out. This trend reflects the “hard to decarbonize” nature of industrial processes and Aviation, where progress will likely be incremental, unlike transformational changes in other sectors like Power.\n\n\n# calculate metrics \nchart_data <- etp2017_sda_targets %>% \n  group_by(\n    scenario, \n    sector\n  ) %>% \n  mutate(\n    total_change = first(emission_factor) - last(emission_factor), \n    annual_change =  lag(emission_factor, n = 1L) - emission_factor, \n    percent_of_total_change = annual_change / total_change\n  ) %>% \n  ungroup()\n# calculate cumsum \nchart_data <- chart_data %>% \n  filter(!is.na(percent_of_total_change)) %>% \n  group_by(\n    scenario, \n    sector\n  ) %>% \n  arrange(year, by_group = TRUE) %>% \n  mutate(cumsum_of_percent_of_total_change = cumsum(percent_of_total_change)) %>% \n  distinct(\n    year, \n    scenario, \n    sector, \n    cumsum_of_percent_of_total_change\n  ) %>% \n  ungroup()\n# create baseline \nchart_data <- chart_data %>% \n  distinct(\n    scenario, \n    sector\n  ) %>% \n  mutate(\n    year = 2014, \n    cumsum_of_percent_of_total_change = 0 \n  ) %>% \n  bind_rows(chart_data)\n# plot chart \nchart_data %>% \n  add_nice_names() %>% \n  ggplot(aes(x = year, y = cumsum_of_percent_of_total_change, fill = scenario, color = scenario)) +\n  geom_area(alpha = 0.2) +\n  geom_line() +\n  theme_2dii_ggplot() + \n  scale_color_manual(values = c(primary_green, primary_orange, primary_blue)) +  \n  scale_fill_manual(values = c(primary_green, primary_orange, primary_blue)) +  \n  scale_y_continuous(labels = scales::label_percent()) + \n  facet_grid(rows = vars(sector), cols = vars(scenario), scales = \"free_y\") + \n  labs(x = \"Year\", y = \"Cumulative percent change\", title = \"Figure 4: Cumulative emissions reductions\")\n\n\nInspired by a similar chart from the SENSE project, Figure 5 shows the change in \\(CO_2\\) intensity trajectories over 5-year increments across sectors and scenarios.(PIK, IIASA, and SEI 2020) If each line represents a hypotenuse with the x and y-axis representing the adjacent and opposite sides, the longer the hypotenuse, the greater the emission intensity reductions over the 5-year increment.\n\n\n# create year intervals \nchart_data <- etp2017_sda_targets_interprolated %>% \n  mutate(\n    year_range = case_when(\n      between(year, 2014, 2025) ~ \"2014-2025\",\n      between(year, 2025, 2030) ~ \"2025-2030\",\n      between(year, 2030, 2035) ~ \"2030-2035\",\n      between(year, 2035, 2040) ~ \"2035-2040\",\n      between(year, 2040, 2045) ~ \"2040-2045\",\n      between(year, 2045, 2050) ~ \"2045-2050\",\n      between(year, 2050, 2055) ~ \"2050-2055\",\n      between(year, 2055, 2060) ~ \"2055-2060\"\n    )\n  )\n# calculate first last ratios \nchart_data <- chart_data %>% \n  group_by(\n    scenario, \n    sector, \n    year_range\n  ) %>% \n  mutate(\n    start_value = first(emission_factor) / last(emission_factor),\n    end_value = last(emission_factor) / first(emission_factor)\n  ) %>% \n  distinct(\n    scenario, \n    sector, \n    year_range, \n    start_value, \n    end_value\n  ) %>% \n  ungroup()\n# pivot wider \nchart_data <- chart_data %>% \n  pivot_longer(\n    cols = c(\"start_value\", \"end_value\"), \n    names_to = \"start_end\", \n    values_to = \"trajectory\"\n  ) \n# plot chart\nchart_data %>% \n  add_nice_names() %>% \n  ggplot(aes(x = stats::reorder(start_end, -trajectory), y = trajectory, group = scenario, color = scenario)) +\n  geom_line(size = 1.5, alpha = 0.8) + \n  theme_2dii_ggplot() +\n  scale_color_manual(values = c(primary_green, primary_orange, primary_blue)) +  \n  facet_grid(rows = vars(sector), cols = vars(year_range),switch=\"x\") + \n  labs(x = \"Year\", y = \"Ratio\", title = \"Figure 5: Trajectory of emission intensity reductions\") + \n  theme(axis.text.x = element_blank(), axis.ticks.x = element_blank(), axis.line.x = element_blank(), axis.title.x = element_blank(), strip.text.x = element_text(family=\"GT America\", color=primary_blue, size = 10, face = \"plain\"), panel.spacing = unit(0.1, \"cm\"))\n\n\n\nFinally, Figure 6 shows the implications of applying the scenario’s trajectory to the portfolio benchmark after the scenario’s transition starts. The greater the disconnect between the portfolio baseline and the scenario’s transition, the less ambitious the portfolio’s scenario aligned target (i.e., 2060 \\(CO_2\\) intensity). While Figure 5 explores the temporal disconnect between the scenario and portfolio to an extreme, even a small delay, say 2014 versus 2019, impacts the scenario aligned portfolio target.\n\n\n# calculate lag indices\nchart_data <- etp2017_sda_targets %>% \n  index_market_to_scenario(\n    aviation_intensity = 120,\n    steel_intensity = 2.1, \n    cement_intensity = 1\n  )\n# plot data \nchart_data %>% \n  add_nice_names() %>% \n  ggplot(aes(x = year, y = emission_factor_ald, group = lag, color = scenario)) +\n  geom_line() + \n  scale_color_manual(values = c(primary_green, primary_orange, primary_blue)) +  \n  labs(x = \"Year\", y = \"\", title = \"Figure 6: Implications on the aligned portfolio benchmark\", caption = \"*Each line corresponds to a lagged scenario trajectory multiplied by portfolio's current CO2 intensity.\") + \n  facet_grid(\n    rows = vars(sector), \n    cols = vars(scenario),\n    switch = \"y\",\n    scales = \"free_y\", \n    labeller = as_labeller(c(Steel = \"t CO2 per t steel\", Cement = \"t CO2 per t cement\", Aviation = \"g CO2 per PKM\", RTS = \"RTS\", B2DS = \"B2DS\", SDS = \"SDS\"))\n  ) + \n  theme_2dii_ggplot() + \n  theme(strip.placement = 'outside')\n\n\n\nComplementing Figure 6, Tables 2 and 3 show in concrete terms, the variation in the scenario aligned target in 2060. The greater the delay between the scenario’s transition and the portfolio’s baseline (denoted by the column Lag N), the less ambitious the emission intensity target.\n\n\n# index market to scenario \ntable_data <- etp2017_sda_targets %>%    \n  index_market_to_scenario(\n    aviation_intensity = 120,\n    steel_intensity = 2.1, \n    cement_intensity = 1\n  )\n# take essentials \ntable_data <- table_data %>% \n  select(\n    scenario,\n    sector, \n    year, \n    emission_factor_ald, \n    lag\n  ) %>% \n  pivot_wider(\n    names_from = \"year\",\n    values_from = \"emission_factor_ald\"\n  )\n# add nice names \ntable_data <- table_data %>% \n  add_nice_names() %>% \n  transmute(\n    sector, \n    scenario,\n    `Lag n` = lag, \n    Target = ifelse(is.na(`2060`), \"\", round(`2060`, digits = 1))\n  ) \n# wide again \ntable_data <- table_data %>% \n  pivot_wider(\n    names_from = \"sector\",\n    values_from = \"Target\"\n  )\n# plot table \ntable_data %>% \n  filter(scenario == \"B2DS\") %>% \n  select(-scenario) %>%\n  gt() %>% \n  theme_2dii_gt() %>% \n  data_color(\n    columns = vars(Aviation, Cement, Steel),\n    colors = c(primary_green, primary_orange),\n    alpha = 0.4,\n    apply_to = c(\"fill\"),\n    autocolor_text = FALSE\n  ) %>% \n  tab_header(\n    title = \"Table 2: B2DS aligned portfolio target in 2060\", \n    subtitle = \"CO2 intensity\"\n  )\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#zmzllufxsp .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #1b324f;\n  font-size: 12px;\n  background-color: white;\n  width: 90%;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: white;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#zmzllufxsp .gt_heading {\n  background-color: white;\n  text-align: center;\n  border-bottom-color: white;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: white;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: white;\n}\n\n#zmzllufxsp .gt_title {\n  color: #1b324f;\n  font-size: 20px;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  border-bottom-color: white;\n  border-bottom-width: 0;\n}\n\n#zmzllufxsp .gt_subtitle {\n  color: #1b324f;\n  font-size: 14px;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 4px;\n  border-top-color: white;\n  border-top-width: 0;\n}\n\n#zmzllufxsp .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #1b324f;\n}\n\n#zmzllufxsp .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: white;\n  border-bottom-style: solid;\n  border-bottom-width: 5px;\n  border-bottom-color: #1b324f;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: white;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: white;\n}\n\n#zmzllufxsp .gt_col_heading {\n  color: #1b324f;\n  background-color: white;\n  font-size: 15.5px;\n  font-weight: bold;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#zmzllufxsp .gt_column_spanner_outer {\n  color: #1b324f;\n  background-color: white;\n  font-size: 15.5px;\n  font-weight: bold;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#zmzllufxsp .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#zmzllufxsp .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#zmzllufxsp .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 5px;\n  border-bottom-color: #1b324f;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#zmzllufxsp .gt_group_heading {\n  padding: 8px;\n  color: #1b324f;\n  background-color: white;\n  font-size: 14px;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #1b324f;\n  border-bottom-style: solid;\n  border-bottom-width: 3px;\n  border-bottom-color: #1b324f;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#zmzllufxsp .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #1b324f;\n  background-color: white;\n  font-size: 14px;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #1b324f;\n  border-bottom-style: solid;\n  border-bottom-width: 3px;\n  border-bottom-color: #1b324f;\n  vertical-align: middle;\n}\n\n#zmzllufxsp .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#zmzllufxsp .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#zmzllufxsp .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#zmzllufxsp .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #1b324f;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #1b324f;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #1b324f;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#zmzllufxsp .gt_stub {\n  color: #1b324f;\n  background-color: white;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 12px;\n}\n\n#zmzllufxsp .gt_summary_row {\n  color: #1b324f;\n  background-color: white;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zmzllufxsp .gt_first_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n}\n\n#zmzllufxsp .gt_grand_summary_row {\n  color: #1b324f;\n  background-color: white;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zmzllufxsp .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#zmzllufxsp .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: white;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #1b324f;\n}\n\n#zmzllufxsp .gt_footnotes {\n  color: #1b324f;\n  background-color: white;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zmzllufxsp .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding: 4px;\n}\n\n#zmzllufxsp .gt_sourcenotes {\n  color: #1b324f;\n  background-color: white;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zmzllufxsp .gt_sourcenote {\n  font-size: 90%;\n  padding: 4px;\n}\n\n#zmzllufxsp .gt_left {\n  text-align: left;\n}\n\n#zmzllufxsp .gt_center {\n  text-align: center;\n}\n\n#zmzllufxsp .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#zmzllufxsp .gt_font_normal {\n  font-weight: normal;\n}\n\n#zmzllufxsp .gt_font_bold {\n  font-weight: bold;\n}\n\n#zmzllufxsp .gt_font_italic {\n  font-style: italic;\n}\n\n#zmzllufxsp .gt_super {\n  font-size: 65%;\n}\n\n#zmzllufxsp .gt_footnote_marks {\n  font-style: italic;\n  font-size: 65%;\n}\nTable 2: B2DS aligned portfolio target in 2060\n    CO2 intensity\n    Lag n\n      Steel\n      Aviation\n      Cement\n    Lag 1\n      0.2\n      16.4\n      0.2\n    Lag 2\n      0.2\n      20.6\n      0.2\n    Lag 3\n      0.3\n      27.3\n      0.3\n    Lag 4\n      0.4\n      36.5\n      0.3\n    Lag 5\n      0.5\n      51.0\n      0.4\n    Lag 6\n      0.7\n      66.9\n      0.6\n    Lag 7\n      1.0\n      88.4\n      0.7\n    Lag 8\n      2.1\n      120.0\n      1.0\n    \n\n\n\n# another table \ntable_data %>% \n  filter(scenario == \"RTS\") %>% \n  select(-scenario) %>%\n  gt() %>% \n  theme_2dii_gt() %>% \n  data_color(\n    columns = vars(Aviation, Cement, Steel),\n    colors = c(primary_green, primary_orange),\n    alpha = 0.4,\n    apply_to = c(\"fill\"),\n    autocolor_text = FALSE\n  ) %>% \n  tab_header(\n    title = \"Table 3: RTS aligned portfolio target in 2060\",\n    subtitle = \"CO2 intensity\"\n  )\nhtml {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#ctbarmhznj .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #1b324f;\n  font-size: 12px;\n  background-color: white;\n  width: 90%;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: white;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ctbarmhznj .gt_heading {\n  background-color: white;\n  text-align: center;\n  border-bottom-color: white;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: white;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: white;\n}\n\n#ctbarmhznj .gt_title {\n  color: #1b324f;\n  font-size: 20px;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  border-bottom-color: white;\n  border-bottom-width: 0;\n}\n\n#ctbarmhznj .gt_subtitle {\n  color: #1b324f;\n  font-size: 14px;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 4px;\n  border-top-color: white;\n  border-top-width: 0;\n}\n\n#ctbarmhznj .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #1b324f;\n}\n\n#ctbarmhznj .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: white;\n  border-bottom-style: solid;\n  border-bottom-width: 5px;\n  border-bottom-color: #1b324f;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: white;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: white;\n}\n\n#ctbarmhznj .gt_col_heading {\n  color: #1b324f;\n  background-color: white;\n  font-size: 15.5px;\n  font-weight: bold;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ctbarmhznj .gt_column_spanner_outer {\n  color: #1b324f;\n  background-color: white;\n  font-size: 15.5px;\n  font-weight: bold;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ctbarmhznj .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ctbarmhznj .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ctbarmhznj .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 5px;\n  border-bottom-color: #1b324f;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ctbarmhznj .gt_group_heading {\n  padding: 8px;\n  color: #1b324f;\n  background-color: white;\n  font-size: 14px;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #1b324f;\n  border-bottom-style: solid;\n  border-bottom-width: 3px;\n  border-bottom-color: #1b324f;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ctbarmhznj .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #1b324f;\n  background-color: white;\n  font-size: 14px;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #1b324f;\n  border-bottom-style: solid;\n  border-bottom-width: 3px;\n  border-bottom-color: #1b324f;\n  vertical-align: middle;\n}\n\n#ctbarmhznj .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ctbarmhznj .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ctbarmhznj .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ctbarmhznj .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #1b324f;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #1b324f;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #1b324f;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ctbarmhznj .gt_stub {\n  color: #1b324f;\n  background-color: white;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 12px;\n}\n\n#ctbarmhznj .gt_summary_row {\n  color: #1b324f;\n  background-color: white;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ctbarmhznj .gt_first_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n}\n\n#ctbarmhznj .gt_grand_summary_row {\n  color: #1b324f;\n  background-color: white;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ctbarmhznj .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ctbarmhznj .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: white;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #1b324f;\n}\n\n#ctbarmhznj .gt_footnotes {\n  color: #1b324f;\n  background-color: white;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ctbarmhznj .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding: 4px;\n}\n\n#ctbarmhznj .gt_sourcenotes {\n  color: #1b324f;\n  background-color: white;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ctbarmhznj .gt_sourcenote {\n  font-size: 90%;\n  padding: 4px;\n}\n\n#ctbarmhznj .gt_left {\n  text-align: left;\n}\n\n#ctbarmhznj .gt_center {\n  text-align: center;\n}\n\n#ctbarmhznj .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ctbarmhznj .gt_font_normal {\n  font-weight: normal;\n}\n\n#ctbarmhznj .gt_font_bold {\n  font-weight: bold;\n}\n\n#ctbarmhznj .gt_font_italic {\n  font-style: italic;\n}\n\n#ctbarmhznj .gt_super {\n  font-size: 65%;\n}\n\n#ctbarmhznj .gt_footnote_marks {\n  font-style: italic;\n  font-size: 65%;\n}\nTable 3: RTS aligned portfolio target in 2060\n    CO2 intensity\n    Lag n\n      Steel\n      Aviation\n      Cement\n    Lag 1\n      1.9\n      54.1\n      0.8\n    Lag 2\n      1.9\n      60.6\n      0.8\n    Lag 3\n      1.9\n      68.2\n      0.8\n    Lag 4\n      1.8\n      77.9\n      0.9\n    Lag 5\n      1.8\n      89.2\n      0.9\n    Lag 6\n      1.9\n      102.3\n      1.0\n    Lag 7\n      2.0\n      112.9\n      1.0\n    Lag 8\n      2.1\n      120.0\n      1.0\n    \n\n\nConclusions\nThis short blog post was inspired by a personal desire to understand better “the data.” I hope this post does not dissuade from applying a scenario’s trajectory to a portfolio’s current \\(CO_2\\) intensity or production, but rather to illustrate the need for caution when scaling macro scenario changes to the micro — a reference portfolio or market. To put it simply, make sure you are dealing with just apples and not apples and oranges. Please do not hesitate to reach out if you have any questions or feedback: vincent@2degrees-investing.org.\n\n\nIEA. 2017. “Energy Technology Perspectives 2017.” IEA. https://www.iea.org/topics/energy-technology-perspectives.\n\n\nIPCC. 2018. “Global Warming of 1.5°C. An Ipcc Special Report on the Impacts of Global Warming of 1.5°C Above Pre-Industrial Levels and Related Global Greenhouse Gas Emission Pathways, in the Context of Strengthening the Global Response to the Threat of Climate Change, Sustainable Development, and Efforts to Eradicate Poverty.” https://www.ipcc.ch/sr15/chapter/spm/.\n\n\nPIK, IIASA, and SEI. 2020. “SENSE.” SENSES Toolkit. https://climatescenarios.org/about/.\n\n\nWorld Steel Association. 2019. “2019 World Steel in Figures.” https://www.worldsteel.org/publications/bookshop/product-details~World-Steel-in-Figures-2019~PRODUCT~World-Steel-in-Figures-2019~.html.\n\n\n\n\n",
    "preview": "posts/2020-07-24-when-scenarios-and-reality-diverge/preview.png",
    "last_modified": "2021-10-18T08:03:47-06:00",
    "input_file": {},
    "preview_width": 1536,
    "preview_height": 960
  },
  {
    "path": "posts/2020-07-18-improving-r2dii-match/",
    "title": "Improving r2dii.match",
    "description": "How to work with big data, and benchmarks of a more efficient version of `match_name()`",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2020-07-18",
    "categories": [
      "r2dii",
      "package"
    ],
    "contents": "\nmatch_name() may run out of memory if your data is too big. Most software for data analysis has a limit to how much data it can handle with a given hardware. If your data is too big to run match_name() on your computer, consider using only an informative subset of data or a more powerful computer. For example, here are some alternatives to consider:\nFeed match_name() with data of only one sector, or part of one sector (see filter()).\nFeed match_name() with data of only the loans that make up most of the credit limit or outstanding credit limit. You might need just 20% of the data to capture 80% of the credit; more data might not change the overall result.\nRun match_name() on a powerful computer on the cloud.\nSoon we’ll show examples of the approaches (1) and (2) above. Until then, you may want to watch RStudio’s webinar on Working with Big Data in R.\nHowever you use match_name(), it should use as little time and memory as it is reasonably possible. That is our goal. Here I compare two versions of match_name(): the version in development versus the version on CRAN (r2dii.match 0.0.3). Compared to the version on CRAN, the version in development uses a small fraction of the time and memory. The rest of this post shows the benchmarks.\nPackages:\n\n\nlibrary(bench)\nlibrary(devtools)\nlibrary(dplyr)\nlibrary(fs)\nlibrary(ggplot2)\nlibrary(r2dii.data)\n\nI’ll use the names devel and cran to refer to the versions of match_name() that are, respectively, in development and on CRAN (r2dii.match 0.0.3).\n\n\n# The older version on CRAN\npackageVersion(\"r2dii.match\")\n#> [1] '0.0.3'\n# Copy of match_name on CRAN\ncran <- r2dii.match::match_name\n\n# The newer version in development\nsuppressMessages(devtools::load_all(fs::path_home(\"git\", \"r2dii.match\")))\npackageVersion(\"r2dii.match\")\n#> [1] '0.0.3.9000'\n# Copy of match_name in development\ndevel <- r2dii.match::match_name\n\nBoth versions have different source code:\n\n\n# Confirm the two versions of `match_name` are different\nidentical(devel, cran)\n#> [1] FALSE\n\nCompared to the version on CRAN, the version in development takes less time. It calls the expensive garbage collector fewer times, and at a more economic level. (I use check = FALSE because the output is not identical; the two outputs differ in the order of their rows, but if we reorder the rows in the same way, both outputs are equivalent.)\n\n\nbenchmark <- bench::mark(\n  check = FALSE,\n  iterations = 30,\n  matched_devel = matched_devel <- devel(loanbook_demo, ald_demo),\n  matched_cran = matched_cran <- cran(loanbook_demo, ald_demo)\n)\n\n# No output means that the two expressions are indeed equivalent\ntestthat::expect_equivalent(\n  matched_devel %>% arrange(across(names(.))),\n  matched_cran %>% arrange(across(names(.)))\n)\n\nbenchmark\n#> # A tibble: 2 x 6\n#>   expression         min   median `itr/sec` mem_alloc `gc/sec`\n#>   <bch:expr>    <bch:tm> <bch:tm>     <dbl> <bch:byt>    <dbl>\n#> 1 matched_devel 155.36ms  167.5ms     5.60         NA     4.67\n#> 2 matched_cran     1.11s     1.5s     0.685        NA     6.07\n\nggplot2::autoplot(benchmark)\n\n\nThanks to your feedback, match_name() is becoming more efficient. We expect to release the improved version on CRAN soon.\n\n\n",
    "preview": "posts/2020-07-18-improving-r2dii-match/preview.jpg",
    "last_modified": "2021-10-18T08:03:47-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-07-08-installing-packages-without-internet/",
    "title": "Installing R packages when you are offline",
    "description": "Some options and hacks",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2020-07-08",
    "categories": [
      "other"
    ],
    "contents": "\nWhen you can’t install R packages from a repository online, what can you do? I won’t discuss any solution deeply; instead I’ll discuss a number of alternatives briefly, and share links for you to explore.\nDon’t do it: Ask IT\nOften the reason why you can’t access online repositories is because your computer is part of a larger network that someone else manages and limits. Find that person and ask them if they can install in your computer the R environment you need. If that isn’t possible, keep reading but keep in mind that the solutions I describe may take some time and effort; and any hack may leave your system in bad shape. Even if you have to face red tape or wait some time, it may be best to find the right person for this job.\nDon’t do it: Can you get away with rstudio.cloud?\nBefore you bother installing anything, you may want to first try the packages you think you want. At http://rstudio.cloud/ you can get an online instance of RStudio and install in it whatever packages you want. If what you experience is not what you want, you are done; if it is what you want, keep reading.\nDocker\nDocker allows you to build a mini “guest” computer – called “container” – and run it from any “host” computer. With Docker you can create the R environment you want, including a specific version of R and R packages. Explore the useful Docker images from the rocker project; they can help you create a Docker container with R, RStudio, and all the packages you need – quickly. You can run such a complete container even offline, and from a host computer that lacks R and RStudio.\nYou may struggle to understand, install, or use Docker; I did. It can be particularly challenging on Windows. Keep pushing. To create the portable and reproducible R environment I describe here, what you need to learn of Docker is only a little. It’s worthwhile.\nCan you build packages from source?\nDevelopers create R packages as a bunch human-oriented text-files and folders. But installed packages are a little different, and the source code needs to be transformed before your computer can use it. That transformation may be done by CRAN, before you even get the package. But you can do it too – if your computer is prepared to build R packages; you can check that with\n\n# install.packages(\"pkgbuild\")\npkgbuild::check_build_tools()\n#> Your system is ready to build packages!\nBuilding and installing packages from source\nIf your system is ready to build packages you have a couple of options. You can use miniCRAN to create a local CRAN repository, including a target package and all its dependencies; later you can use your local repository to build each package with devtools::build() and install it with devtools::install().\nIf you want to share your repository with others, you may use the package drat to create an online clone and serve it on GitHub pages. Your drat repository will allow other folks to download your selection of R packages, and even use it locally offline – just as you did. Your drat repository would also allow anyone online to install any package directly from it (instead of CRAN or another repository).\nGetting pre-built packages to use them in a similar system\nIf your system is not ready to build packages you may make it so, or get the pre-built version of the packages you need, and later use them in a similar system offline. This is a hack and you should try to avoid it; but if you must do it, you may abuse the package renv for this.\nThe package renv creates a local library of binary packages under your working directory: (1) Create a new RStudio project; (2) initialize renv with renv::init(); and (3) install the packages you need with renv::install(). The installed version of all packages will now be under the directory ./renv/library/. Those packages will likely work on another computer running the same platform and minor version of R. For example, if you are running Windows 10 and R 3.6.x, the packages should work on another computer running Windows 10 and 3.6.y but not R 3.5.x. When you want to use one of the hacked packages, you will need to tell library() where to find them – with the argument lib.loc:\nExtend the default libraries to include the hacked packages\n\n\n.libPaths()\n#> [1] \"/home/mauro/R/x86_64-pc-linux-gnu-library/4.0\"\n#> [2] \"/opt/R/4.0.0/lib/R/library\"\n\nall_libraries <- c(.libPaths(), \"path/to/your/hacked/packages\")\nall_libraries\n#> [1] \"/home/mauro/R/x86_64-pc-linux-gnu-library/4.0\"\n#> [2] \"/opt/R/4.0.0/lib/R/library\"                   \n#> [3] \"path/to/your/hacked/packages\"\n\nUse packages from all libraries, including the hacked packages\n\nlibrary(somepackage, lib.loc = all_libraries)\nR defaults to look for packages under the paths given by .libPaths(); but placing your hacked packages there is a bad idea because you may leave your entire R environment in bad shape. Remember: This is a hack and you should try to avoid it.\n\n\n",
    "preview": "posts/2020-07-08-installing-packages-without-internet/preview.jpg",
    "last_modified": "2021-10-18T08:03:47-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-06-30-r2dii-suite-is-now-on-cran/",
    "title": "r2dii suite is now on CRAN",
    "description": "R packages to implement the core functionality of the Paris Agreement Capital Transition Assessment (PACTA)",
    "author": [
      {
        "name": "Jackson Hoffart",
        "url": "https://github.com/jdhoffa"
      }
    ],
    "date": "2020-06-30",
    "categories": [
      "r2dii",
      "package"
    ],
    "contents": "\nAdapted from https://jdhoffa.github.io/blog/r2dii-suite-is-now-on-cran/.\nThe core suite of r2dii packages (r2dii.data, r2dii.match and r2dii.analysis), are now published on CRAN!\nThe r2dii suite was developed to implement the core functionality of the Paris Agreement Capital Transition Assessment (PACTA) in R. PACTA is a methodology which allows financial institutions to aggregate climate-related data associated to their portfolios, and compare the result against climate scenarios.\nInstallation\nYou can easily install all three packages directly from CRAN using:\n\nr2dii <- c(\"r2dii.data\", \"r2dii.match\", \"r2dii.analysis\")\ninstall.packages(r2dii)\nTo get the latest development version any one package, you can install it from GitHub. Fir example, you can install r2dii.data from GitHub using:\n\ndevtools::install_github(\"2DegreesInvesting/r2dii.data\")\nWarning: Development versions are experimental and may be unstable. Proceed with caution.\nYou can then use each package with library().\n\n\nlibrary(r2dii.data)\nlibrary(r2dii.match)\nlibrary(r2dii.analysis)\n\nThis example also uses two optional but convenient packages to manipulate and plot data:\n\n\nlibrary(dplyr)\nlibrary(ggplot2)\n\nr2dii.data\nr2dii.data provides a series of fake datasets. These are mainly meant to be used as a tool to learn how the methodology works, and also to provide an easy sandbox for testing. The built-in data_dictionary provides a view of all datasets in the package, along with variable definitions:\n\n\ndata_dictionary %>%\n  distinct(dataset)\n#> # A tibble: 13 x 1\n#>    dataset                    \n#>    <chr>                      \n#>  1 ald_demo                   \n#>  2 co2_intensity_scenario_demo\n#>  3 data_dictionary            \n#>  4 isic_classification        \n#>  5 iso_codes                  \n#>  6 loanbook_demo              \n#>  7 nace_classification        \n#>  8 naics_classification       \n#>  9 overwrite_demo             \n#> 10 region_isos                \n#> 11 region_isos_demo           \n#> 12 scenario_demo_2020         \n#> 13 sector_classifications\n\nSome of the most useful datasets are:\nloanbook_demo: a loanbook dataset which can be used as a template to format real loanbook/ portfolio data.\nald_demo: a so-called “asset-level” dataset, containing crucial climate data at the asset level. (eg. power-plant capacity data, automotive car production, steel company emission factors)\nscenario_demo_2020: a fake climate scenario, offering technology pathways that would likely limit warming to less than 2 degrees Celsius.\nr2dii.match\nr2dii.match provides the tools necessary to match the counter-parties in a loanbook to the climate data of the assets that they own.\nOwing to the fact that many lending portfolios are exposed to mid- and small- size companies, which are often not publicly-listed, matching data can be tricky. To achieve these links, we have written wrappers around some common fuzzy matching algorithms, which play nicely with formatted loanbook’s and ald’s.\nYou can run the matching algorithm on sample data provided by r2dii.data:\n\n\nmatched <- match_name(loanbook_demo, ald_demo)\n\nmatched %>%\n  select(name, sector, name_ald, sector_ald, score)\n#> # A tibble: 502 x 5\n#>    name                 sector   name_ald             sector_ald score\n#>    <chr>                <chr>    <chr>                <chr>      <dbl>\n#>  1 Aston Martin         automot… aston martin         automotive     1\n#>  2 Avtozaz              automot… avtozaz              automotive     1\n#>  3 Bogdan               automot… bogdan               automotive     1\n#>  4 Ch Auto              automot… ch auto              automotive     1\n#>  5 Chehejia             automot… chehejia             automotive     1\n#>  6 Chtc Auto            automot… chtc auto            automotive     1\n#>  7 Dongfeng Honda       automot… dongfeng honda       automotive     1\n#>  8 Dongfeng-Luxgen      automot… dongfeng-luxgen      automotive     1\n#>  9 Electric Mobility S… automot… electric mobility s… automotive     1\n#> 10 Faraday Future       automot… faraday future       automotive     1\n#> # … with 492 more rows\n\nAfter the initial matching, you must manually verify which of the matches you would like to keep. To do so, simply save matched as a .csv, and open in excel or similar. If you would like to keep a match, write the score to 1. If you don’t want the match, leave the score as anything but 1:\n\n\nmatched %>%\n  filter(score != 1) %>%\n  arrange(desc(score)) %>%\n  select(name, sector, name_ald, sector_ald, score)\n#> # A tibble: 30 x 5\n#>    name                sector  name_ald               sector_ald score\n#>    <chr>               <chr>   <chr>                  <chr>      <dbl>\n#>  1 Bhushan Energy Ltd. power   bhagwan energy ltd.    power      0.906\n#>  2 Cementos San Juan   cement  cemento sur            cement     0.900\n#>  3 Shandong Qiyin Cem… cement  shangfeng cement group cement     0.883\n#>  4 Handong Shipbuildi… shippi… han dong               shipping   0.856\n#>  5 Hanil Express Co L… shippi… han sung line co ltd   shipping   0.853\n#>  6 Nandi Roller Inc.   power   nandi roller flour mi… power      0.851\n#>  7 Yuanbsaoshan Power… power   yiyang baoyuan power … power      0.849\n#>  8 Yuama Inc.          power   ykk usa, inc.          power      0.843\n#>  9 Hanil Express Co L… shippi… hanison                shipping   0.838\n#> 10 Hanil Express Co L… shippi… hana marine co ltd     shipping   0.835\n#> # … with 20 more rows\n\nThe final step is to prioritize your matches. This ensures that the same loan isn’t accidentally matched to multiple ald companies.\nRead the validated match file back into R and run:\n\n\nmatch_result <- matched %>%\n  prioritize()\n\nmatch_result %>%\n  select(name_direct_loantaker, loan_size_outstanding, sector, name_ald)\n#> # A tibble: 267 x 4\n#>    name_direct_loantaker  loan_size_outstan… sector   name_ald        \n#>    <chr>                               <dbl> <chr>    <chr>           \n#>  1 Shaanxi Auto                       396377 automot… shaanxi auto    \n#>  2 Shandong Auto                      319353 automot… shandong auto   \n#>  3 Shandong Kama                      258105 automot… shandong kama   \n#>  4 Shandong Tangjun Ouli…             332345 automot… shandong tangju…\n#>  5 Shanghai Automotive I…             203353 automot… shanghai automo…\n#>  6 Shanxi Dayun                       329561 automot… shanxi dayun    \n#>  7 Shenyang Polarsun                  261817 automot… shenyang polars…\n#>  8 Shuanghuan Auto                    337913 automot… shuanghuan auto \n#>  9 Sichuan Auto                       227481 automot… sichuan auto    \n#> 10 Singulato                          334201 automot… singulato       \n#> # … with 257 more rows\n\nr2dii.analysis\nThe final step is to analyze your matched dataset, and compare the results to a climate scenario.\nYou can apply scenario targets to your loanbook data by calling:\n\n\nportfolio_targets <- match_result %>%\n  target_market_share(\n    ald_demo,\n    scenario_demo_2020,\n    region_isos_demo\n  )\n\nportfolio_targets\n#> # A tibble: 1,170 x 7\n#>    sector technology  year region scenario_source weighted_produc…\n#>    <chr>  <chr>      <int> <chr>  <chr>           <chr>           \n#>  1 autom… electric    2020 global demo_2020       projected       \n#>  2 autom… electric    2020 global demo_2020       normalized_corp…\n#>  3 autom… electric    2020 global demo_2020       target_cps      \n#>  4 autom… electric    2020 global demo_2020       target_sds      \n#>  5 autom… electric    2020 global demo_2020       target_sps      \n#>  6 autom… hybrid      2020 global demo_2020       projected       \n#>  7 autom… hybrid      2020 global demo_2020       normalized_corp…\n#>  8 autom… hybrid      2020 global demo_2020       target_cps      \n#>  9 autom… hybrid      2020 global demo_2020       target_sds      \n#> 10 autom… hybrid      2020 global demo_2020       target_sps      \n#> # … with 1,160 more rows, and 1 more variable:\n#> #   weighted_production_value <dbl>\n\nAnd you can plot the distribution of technologies using ggplot2:\n\n\nportfolio_targets %>%\n  # different targets can be plotted by setting these filters\n  filter(\n    sector == \"power\",\n    weighted_production_metric != \"normalized_corporate_economy\",\n    year == max(year)\n  ) %>%\n  group_by(technology) %>%\n  ggplot(aes(\n    x = weighted_production_metric, \n    y = weighted_production_value, \n    fill = technology\n  )) +\n  geom_col(position = \"fill\") +\n  labs(\n    x = \"Metric\",\n    y = \"Weighted Capacity [%]\"\n  )\n\n\n\n\n",
    "preview": "posts/2020-06-30-r2dii-suite-is-now-on-cran/preview.jpg",
    "last_modified": "2021-10-18T08:03:47-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-06-29-r2dii-analysis-0-0-1/",
    "title": "r2dii.analysis 0.0.1 is now on CRAN",
    "description": "Tools to calculate climate targets for financial portfolios",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2020-06-29",
    "categories": [
      "r2dii",
      "package"
    ],
    "contents": "\nTable of Contents\nAcknowledgements\nr2dii.analysis is an R package that provides tools to calculate climate targets for financial portfolios. The version 0.0.1 is the first one released on CRAN.\nYou can install it from CRAN with:\n\ninstall.packages(\"r2dii.analysis\")\nThen use it with:\n\n\nlibrary(r2dii.analysis)\n\nThe best place to know about this package is on its website. The home page details how to install and use this package, and includes a number of useful links – to try r2dii.analysis before you install it, to minimize installation errors, and to report bugs or raise issues. The navigation bar includes three important sections: (1) Get started introduces you to the package; (2) Reference lists every feature and links to its help file; and (3) Articles explains the Sectoral Decarbonization Approach (SDA), and the Market Share Approach.\nAs a preview, this snippet shows one feature of r2dii.analysis:\nBefore you can use r2dii.analysis you need to load and prepare your data. Here I use toy data from the package r2dii.data, and two functions from the package r2dii.match.\n\n\nlibrary(r2dii.match)\nlibrary(r2dii.data)\n\n# Using the package r2dii.data to imitate loading data\nloanbook <- loanbook_demo\nald <- ald_demo\nco2 <- co2_intensity_scenario_demo\n\n# Using the package r2dii.match to prepare the data\nmatched <- match_name(loanbook, ald) %>% prioritize()\n\nYou can now use r2dii.analysis, for example, to calculate targets of CO2 emissions per unit production at the portfolio-level – using the sectoral-decarbonization approach (SDA).\n\n\nmatched %>% target_sda(ald = ald, co2_intensity_scenario = co2)\n#> # A tibble: 28 x 4\n#>    sector  year emission_factor_metric emission_factor_value\n#>    <chr>  <dbl> <chr>                                  <dbl>\n#>  1 cement  2020 projected                              0.664\n#>  2 cement  2020 target                                 0.669\n#>  3 cement  2020 scenario_benchmark                     0.7  \n#>  4 cement  2021 projected                              0.665\n#>  5 cement  2021 target                                 0.612\n#>  6 cement  2021 scenario_benchmark                     0.64 \n#>  7 cement  2022 projected                              0.666\n#>  8 cement  2022 target                                 0.555\n#>  9 cement  2022 scenario_benchmark                     0.580\n#> 10 cement  2023 projected                              0.667\n#> # … with 18 more rows\n\nAcknowledgements\n\n\n\nAlthough this release includes commits from only a few contributors (Clare2D, jdhoffa, maurolepore, vintented), it is thanks to ideas and feedback from many more colleagues at 2DII.\n\n\n",
    "preview": "posts/2020-06-29-r2dii-analysis-0-0-1/preview.jpg",
    "last_modified": "2021-10-18T08:03:47-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-06-26-instructions-to-raise-an-issue/",
    "title": "How to raise an issue",
    "description": "Help us help you",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2020-06-26",
    "categories": [
      "r2dii",
      "community",
      "favorites"
    ],
    "contents": "\nOpen source packages improve thanks to people like you who kindly contribute to open source software. Your contribution to the packages we build can be as simple as raising an issue. Here is how you can do just that.\nEach package has a website with a link to report a bug or raise any in-scope issue (more on this below). For example, the website of the package r2dii.match lives here and looks like this:\n\n\n\nFigure 1: The website of every package has a link to report a bug.\n\n\n\nThe link to report a bug opens a page that, like an email, has two parts:\nA title to summarize your issue;\nA body to detail your issue. We know you are busy; please follow our instructions carefully to avoid emails and solve the issue quickly.\n\n\n\nFigure 2: The web page to report a bug is like an email.\n\n\n\nWhat’s beyond our scope\nOur scope is limited. We assume you are familiar with R. (To learn R see our favorite resources.) The issues we can address are those caused specifically by the packages we build. Report everything else at https://stackoverflow.com/ or https://community.rstudio.com/.\nThe most common out-of-scope problems are installation errors. It’s unlikely the problem comes from our packages because we continuously check that they install correctly – with multiple version of R, and on Windows, Linux, and several other platforms). What should you do then?\nA tale of two R programmers\nMike and Lucy are working together and want to use the package r2dii.match. They try to install it with install.packages(\"r2dii.match\") but they get an error.\n\nMike: “Bummer!”\n\n\nLucy: “Wait; let’s read the error message carefully.”\n\nThe error message makes no sense. Mike Googles it and finds some promising results. Lucy tries a few hacks but nothing works.\n\nLucy: “It’s all sooooooo confusing; but there is something about versions, right? These R geeks move fast – they pump new stuff every day!”\n\n\nMike: “What if we ask at RStudio community? They seem friendly.”\n\n\nLucy: “Yeah, those folks are cool. But let’s first update everything – I mean R, RStudio, and all R packages. It can’t hurt and sooner or later we’ll have to do it anyway. Here is a nice guide.”\n\n\nMike: “That’ll take a while but you are right. Let’s bite the bullet.”\n\nAfter an hour or so.\n\nLucy: “Okay, done! Here we go again.”\n\n\nMike: “Fingers crossed.”\n\nThey look at each other. Then Lucy runs install.packages(\"r2dii.match\"). Then it just works.\nBottom line: Get current people1.\nGet current, people. You don’t want to adopt new things on day one. But at some point, running old versions of software adds unnecessary difficulty. – How to think about upgrading R and RStudio↩︎\n",
    "preview": "posts/2020-06-26-instructions-to-raise-an-issue/preview.png",
    "last_modified": "2021-10-18T10:01:37-06:00",
    "input_file": {},
    "preview_width": 1438,
    "preview_height": 912
  },
  {
    "path": "posts/2020-06-23-github-and-rstudio/",
    "title": "Onboarding to GitHub and RStudio",
    "description": "Tools and practices to hit the ground running",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2020-06-23",
    "categories": [
      "community",
      "onboarding",
      "workflow"
    ],
    "contents": "\nAt 2DII we use a particular workflow – a set of tools and practices. This post is about what you should know to work effectively with us, or whoever uses the same workflow.\nGit workflows\nWe use two Git workflows – the GitHub flow, and the Gitflow workflow. If you use the Gitflow workflow you may want to use the git-flow extension.\nIntroduction to GitHub\nWe collaborate on GitHub. Whatever your experience with GitHub, you may like these resources:\nWhat is GitHub? (4’ video).\nIntroduction to GitHub (1-2 h tutorial from GitHub Lab).\nJoin 2DII’s GitHub organization\n\n[GitHub] Organizations are shared accounts where businesses and open-source projects can collaborate across many projects at once. Owners and administrators can manage member access to the organization’s data and projects with sophisticated security and administrative features. – About organizations\n\nTo join our GitHub organization you need to be invited by someone with special (“Owner”) privileges. Find that person by asking on the #coding channel on 2DII’s Slack and share your GitHub username.\nSetup\nMost of our code on GitHub is written in R and from RStudio. Here is how to set things up:\nSetup (instructions; 20’ video). If you are already set, use this guide to confirm we are all set in the same way.\nHow to contribute to GitHub from the terminal and from RStudio (35’ video)1.\nWhy Git, and how it relates to GitHub and RStudio\nGit is the heart of GitHub. We use it to track each meaningful change in our projects. You may use Git from the terminal or from a dedicated program (e.g. GitKraken); but you rarely need anything special because the most useful features of Git are available directly from RStudio.\nGit handbook (10’ read).\nGit cheat sheets.\nCollaboration and time travel- version control with git, github and RStudio (50’ video).\nNext\nWe are working on multiple projects you may want to know about:\nds-incubator: Weekly meetups to share best practices.\nresources: A place to explore and share resources.\ncoding-helpdesk: Live support by appointment.\nr2dii: A collection of R packages we maintain.\ndev-hangout: Weekly discussion of wider coding related topics.\nWhat else (or less) do you think a successful onboarding should have?\nCaveat: In this video I violate the GitHub flow in that I submit a pull request not from a feature branch (as I should) but from the master branch.↩\n",
    "preview": "posts/2020-06-23-github-and-rstudio/preview.jpg",
    "last_modified": "2022-01-18T10:52:58-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-06-11-r2dii-analysis-release-candidate/",
    "title": "r2dii.analysis: Release candidate",
    "description": "Help us get to the first release",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2020-06-15",
    "categories": [
      "package",
      "r2dii"
    ],
    "contents": "\nr2dii.analysis approaches its first release but first we’d love you to try it out and give us some feedback. Please report bugs, and incorrect or unclear documentation; you may also suggest changes to the interfaces, such as a better name for a function, or argument.\nInstall the development version of r2dii.analysis from GitHub with:\n\n# install.packages(\"devtools\")\ndevtools::install_github(\"2DegreesInvesting/r2dii.analysis\")\nThen load it with:\n\n\nlibrary(r2dii.analysis)\n\nThe best place to start your review is its website. Start reviewing the home page, then each item under Reference, and finally each of the two article (1, 2). At every stage ask yourself three questions:\nDoes the code run as expected?\nAre the examples useful?\nIs the documentation clear and the style natural?\nYou may leave a quick comment at the end of this post, or a longer comment as a GitHub issue.\nThank you!\n\n\n",
    "preview": "posts/2020-06-11-r2dii-analysis-release-candidate/preview.jpg",
    "last_modified": "2021-10-18T08:03:47-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-06-10-what-technical-skills-matter/",
    "title": "What technical skills matter?",
    "description": "Find or become a T-shaped developer with the 20% you need 80% of the time",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2020-06-10",
    "categories": [
      "other"
    ],
    "contents": "\nYou may be hiring a software developer; Or you may be a software developer for hire. In any case, you ask: What technical skills matter?\nAlthough the specific answer for you and me is different, the general answer for both of us is likely similar. These two ideas should guide almost everyone:\n“T-shaped” developers. Organizations tend to prefer “T-shaped” developers who have a “broad knowledge of the entire discipline with deeper specializations in a few areas”.\nThe 80/20 rule. “Roughly 80% of the effects come from 20% of the causes”.\nWhat are the few vital skills people need most of the time? This is the “20%”, and the smaller horizontal-segment of the “T”; and it’s the broad knowledge all software developers should have. For example, most projects around me use a few common tools: The tidyverse to wrangle, analyze, and plot data; Shiny to make plots interactive; Git and GitHub for distributed version control; and GitHub Actions to automate workflows.\nOnly a few projects – or parts of your projects – need deep skills. This is the “80%” that makes each person unique, and the longer vertical-segment of the “T”. In a team, it seems best for these skills to overlap a little and complement a lot. The little overlap helps people understand what someone else is doing; it also increases the TruckNumber of each project1. And the complement allows the team to handle a wide range of exceptional (parts of your) projects before the best option is outsourcing.\nLet’s now combine these ideas in two takeaways for just about any team:\nIt is a must for everyone to have the few vital skills they need most of the time.\nIt is nice to have people with deep experience in areas that overlap a little and complement a lot.\n“The TruckNumber is the size of the smallest set of people in a project such that, if one of them got hit by a truck, the project would be in trouble.” – https://wiki.c2.com/?TruckNumber↩︎\n",
    "preview": "posts/2020-06-10-what-technical-skills-matter/preview.jpg",
    "last_modified": "2021-10-18T08:03:47-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-06-05-r2dii-match-0-0-2/",
    "title": "r2dii.match 0.0.2 is now on CRAN",
    "description": "It's compatible with R back to 3.4, and dplyr 0.8.5; but update ASAP!",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2020-06-05",
    "categories": [
      "r2dii",
      "package"
    ],
    "contents": "\nTable of Contents\nDo our packages work on your computer?\nWhen will our packages no longer support older versions of R or R packages?\nShould I update all my R packages frequently? Yes/No? Why?\nAcknowledgements\n\n\n\nr2dii.match 0.0.2 is now on CRAN. r2dii.match provides tools to match financial portfolios with climate data. This release is compatible with R back to 3.4, and with dplyr 0.8.5. But you should update as soon as possible.\n\n\n\nYou can install r2dii.match from CRAN with:\n\ninstall.packages(\"r2dii.match\")\n\n\n\nThen use it with:\n\n\nlibrary(r2dii.match)\n\n\n\n\nAll changes in this version are internal. Internal changes do not affect users in the short term; but in the long term, they might. Here I detail the R environment you need to keep things working as you expect.\nDo our packages work on your computer?\nWe ensure the R-pacakges we build work with these computer environments:\nOperative systems: Work on Windows, Mac, and Linux.\nVersions of R:\n“release” (latest-release, now R-4.0);\n“devel” (in-development next-release);\n“oldrel” (last-release, now R-3.6);\nand two older minor releases (now R-3.5 and R-3.4).\n\nR packages: Latest version on CRAN.\nWhen will our packages no longer support older versions of R or R packages?\nIf your R environment is different from what’s listed above, our packages might fail. We enforce that your R version is earlier than four minor-releases (e.g. R-3.3 is now too old). But we rarely enforce specific versions of R packages. Even if your outdated packages might be incompatible, it is up to you to update them or not.\nShould I update all my R packages frequently? Yes/No? Why?\n\nYou will always eventually have a reason that you must update. So you can either do that very infrequently, suffer with old versions in the middle, and experience great pain at update. Or admit that maintaining your system is a normal ongoing activity, and do it more often.\n\n\nThere are definitely situations where people have good reason to not update or to do so infrequently or at specific milestones. But I personally encounter many more who suffer from the opposite: updating too infrequently, without any specific reason or because they fear disruption (which makes it worse in the end).\n\n– Jenny Bryan\nYou should update your R packages as often as it is possible and convenient – maybe weekly. This helps you keep up with the rapid change of popular packages. For example, we now support dplyr 0.8.5 but you should update to dplyr 1.0.0 ASAP. Some features of dplyr 0.8.5 have been superseded in dplyr 1.0.0. To stay within best practices, we may enforce dplyr >= 1.0.0 any time.\n\n\n\nAcknowledgements\nWhile this release includes commits from only a few of us (jdhoffa, maurolepore), it is thanks to ideas and feedback from many more colleagues at 2DII.\n\n\n",
    "preview": "posts/2020-06-05-r2dii-match-0-0-2/preview.jpg",
    "last_modified": "2021-10-18T08:03:47-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-06-03-r2dii-data-0-1-0/",
    "title": "r2dii.data 0.1.0 is now on CRAN",
    "description": "This release includes new and improved datasets.",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2020-06-03",
    "categories": [
      "r2dii",
      "package"
    ],
    "contents": "\nTable of Contents\nAcknowledgements\nr2dii.data 0.1.0 is now on CRAN. r2dii.data provides public datasets to help you study how financial assets align to climate scenarios.\nThis release signals that r2dii.data is now maturing. You can install it from CRAN with:\n\ninstall.packages(\"r2dii.data\")\nThen use it with:\n\n\nlibrary(r2dii.data)\n\nI also use the package dplyr; it is not necessary but convenient.\n\n\nlibrary(dplyr)\n\nAll user-facing changes are listed in the changelog; here I’ll show the most important ones.\nWe fixed a bug in the dataset naics_classification; it now contains the correct data.\n\n\nnaics_classification\n#> # A tibble: 1,057 x 4\n#>      code naics_title                            sector     borderline\n#>     <dbl> <chr>                                  <chr>      <lgl>     \n#>  1 111110 soybean farming                        not in sc… FALSE     \n#>  2 111120 oilseed (except soybean) farming       not in sc… FALSE     \n#>  3 111130 dry pea and bean farming               not in sc… FALSE     \n#>  4 111140 wheat farming                          not in sc… FALSE     \n#>  5 111150 corn farming                           not in sc… FALSE     \n#>  6 111160 rice farming                           not in sc… FALSE     \n#>  7 111191 oilseed and grain combination farming  not in sc… FALSE     \n#>  8 111199 all other grain farming                not in sc… FALSE     \n#>  9 111211 potato farming                         not in sc… FALSE     \n#> 10 111219 other vegetable (except potato) and m… not in sc… FALSE     \n#> # … with 1,047 more rows\n\nThe dataset region_isos now includes the value “global” in the column region; it also gained the column source.\n\n\nregion_isos %>% filter(region == \"global\")\n#> # A tibble: 206 x 3\n#>    region isos  source  \n#>    <chr>  <chr> <chr>   \n#>  1 global bg    weo_2019\n#>  2 global hr    weo_2019\n#>  3 global cy    weo_2019\n#>  4 global mt    weo_2019\n#>  5 global ro    weo_2019\n#>  6 global au    weo_2019\n#>  7 global at    weo_2019\n#>  8 global be    weo_2019\n#>  9 global ca    weo_2019\n#> 10 global cl    weo_2019\n#> # … with 196 more rows\n\nThe dataset ald_demo gained the column ald_emission_factor_unit.\n\n\nselect(ald_demo, ald_emission_factor_unit)\n#> # A tibble: 17,368 x 1\n#>    ald_emission_factor_unit       \n#>    <chr>                          \n#>  1 tons of CO2 per per hour per MW\n#>  2 tons of CO2 per per hour per MW\n#>  3 tons of CO2 per per hour per MW\n#>  4 tons of CO2 per per hour per MW\n#>  5 tons of CO2 per per hour per MW\n#>  6 tons of CO2 per per hour per MW\n#>  7 tons of CO2 per per hour per MW\n#>  8 tons of CO2 per per hour per MW\n#>  9 tons of CO2 per per hour per MW\n#> 10 tons of CO2 per per hour per MW\n#> # … with 17,358 more rows\n\nFinally, we added three new datasets: co2_intensity_scenario_demo, region_isos_demo, and scenario_demo_2020.\n\n\nglimpse(region_isos_demo)\n#> Rows: 334\n#> Columns: 3\n#> $ region <chr> \"advanced economies\", \"advanced economies\", \"advance…\n#> $ isos   <chr> \"bg\", \"hr\", \"cy\", \"mt\", \"ro\", \"au\", \"at\", \"be\", \"ca\"…\n#> $ source <chr> \"demo_2020\", \"demo_2020\", \"demo_2020\", \"demo_2020\", …\n\nglimpse(scenario_demo_2020)\n#> Rows: 1,323\n#> Columns: 8\n#> $ scenario        <chr> \"cps\", \"cps\", \"cps\", \"cps\", \"cps\", \"cps\", \"…\n#> $ sector          <chr> \"automotive\", \"automotive\", \"automotive\", \"…\n#> $ technology      <chr> \"electric\", \"hybrid\", \"ice\", \"electric\", \"h…\n#> $ region          <chr> \"global\", \"global\", \"global\", \"global\", \"gl…\n#> $ year            <int> 2020, 2020, 2020, 2021, 2021, 2021, 2022, 2…\n#> $ tmsr            <dbl> 1.000000, 1.000000, 1.000000, 1.120288, 1.1…\n#> $ smsp            <dbl> 0.000000000, 0.000000000, 0.000000000, 0.00…\n#> $ scenario_source <chr> \"demo_2020\", \"demo_2020\", \"demo_2020\", \"dem…\n\nglimpse(co2_intensity_scenario_demo)\n#> Rows: 22\n#> Columns: 7\n#> $ scenario_source      <chr> \"demo_2020\", \"demo_2020\", \"demo_2020\",…\n#> $ scenario             <chr> \"demo\", \"demo\", \"demo\", \"demo\", \"demo\"…\n#> $ sector               <chr> \"cement\", \"cement\", \"cement\", \"cement\"…\n#> $ region               <chr> \"global\", \"global\", \"global\", \"global\"…\n#> $ year                 <dbl> 2020, 2021, 2022, 2023, 2024, 2025, 20…\n#> $ emission_factor_unit <chr> \"tons of CO2 per ton of Cement\", \"tons…\n#> $ emission_factor      <dbl> 0.700000, 0.640000, 0.580000, 0.520000…\n\nAcknowledgements\n\n\n\nWhile this release includes commits from only a few of us (jdhoffa, maurolepore), it is thanks to ideas and feedback from many more colleagues at 2DII.\n\n\n",
    "preview": "posts/2020-06-03-r2dii-data-0-1-0/preview.jpg",
    "last_modified": "2021-10-18T08:03:47-06:00",
    "input_file": {}
  },
  {
    "path": "posts/2020-06-02-shape-and-share-your-thoughts-here/",
    "title": "Shape and share your thoughts here",
    "description": "\"If you think without writing, you only think you're thinking\" -- Leslie Lamport.",
    "author": [
      {
        "name": "Mauro Lepore",
        "url": "https://github.com/maurolepore"
      }
    ],
    "date": "2020-06-02",
    "categories": [
      "meta",
      "ds-incubator"
    ],
    "contents": "\nA great deal of what you do at work is to think and share your thoughts. But “If you think without writing, you only think you’re thinking” (Leslie Lamport). To shape and share your thoughts you need a blog. To lean how to create your own blog see ds-incubator#47.\nThis blog uses distill, a publication format for scientific and technical writing, native to the web. Learn more about using distill at https://rstudio.github.io/distill.\nStart now. If you want to publish a new post you wrote, submit a pull request here. For these other things, open an issue here:\nDiscuss an idea for a new post.\nSuggest a way to improve this blog.\nShare a link of an article you would like to re-publish here.\nAsk a question.\nI look forward to your hearing from you!\n\n\n",
    "preview": "posts/2020-06-02-shape-and-share-your-thoughts-here/preview.jpg",
    "last_modified": "2021-10-18T08:03:47-06:00",
    "input_file": {}
  }
]
